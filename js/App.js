// Hover time out
!function(n){n.fn.hoverTimeout=function(t,u,e,i){return this.each(function(){var o=null,c=n(this);c.hover(function(){clearTimeout(o),o=setTimeout(function(){u.call(c)},t)},function(){clearTimeout(o),o=setTimeout(function(){i.call(c)},e)})})}}(jQuery);!function(i){i.simpleSpy=function(t,e){var n=this;n.$el=i(t),n.init=function(){n.options=i.extend({},i.simpleSpy.defaultOptions,e);var t=n.$el,s=!0,o=[],p=n.options.limit,a=0,f=t.find("> .items:first").outerHeight(!0),m=t.find("> .items:first").height();t.find("> .items").each(function(){o.push('<div class="items">'+i(this).html()+"</div>")}),a=o.length,t.wrap('<div class="spyWrapper" />').parent().css({height:f*n.options.limit}),t.find("> .items").filter(":gt("+(n.options.limit-1)+")").remove(),t.bind("stop",function(){s=!1}).bind("start",function(){s=!0});var l=function(){if(s){var e=i(o[p]).css({height:0,opacity:0}).prependTo(t);t.find("> .items:last").animate({opacity:0},1e3,function(){e.animate({height:m},1e3).animate({opacity:1},1e3),i(this).remove()}),p++,p>=a&&(p=0)}setTimeout(l,n.options.interval)};l()},n.init()},i.simpleSpy.defaultOptions={limit:4,interval:4e3},i.fn.simpleSpy=function(t){return this.each(function(){new i.simpleSpy(this,t)})}}(jQuery);
(function(n){var i,f;n.fn.metrojs={capabilities:null,checkCapabilities:function(t,i){return(n.fn.metrojs.capabilities==null||typeof i!="undefined"&&i==!0)&&(n.fn.metrojs.capabilities=new n.fn.metrojs.MetroModernizr(t)),n.fn.metrojs.capabilities}},i=n.fn.metrojs,f=99e3,n.fn.liveTile=function(t){var r,i;if(u[t]){for(r=[],i=1;i<=arguments.length;i++)
r[i-1]=arguments[i];return u[t].apply(this,r)}
return typeof t!="object"&&t?(n.error("Method "+t+" does not exist on n.liveTile"),null):u.init.apply(this,arguments)},n.fn.liveTile.contentModules={modules:{},addContentModule:function(n,t){typeof this.modules!="object"&&(this.modules={}),this.modules[n]=t},hasContentModule:function(n){return typeof n=="undefined"||typeof this.modules!="object"?!1:typeof this.modules[n]!="undefined"}},n.fn.liveTile.defaults={mode:"slide",speed:500,initDelay:-1,delay:5e3,stops:"100%",stack:!1,direction:"vertical",animationDirection:"forward",tileSelector:">div,>li,>p,>img,>a",tileFaceSelector:">div,>li,>p,>img,>a",ignoreDataAttributes:!1,click:null,link:"",newWindow:!1,bounce:!1,pauseOnHover:!1,playOnHover:!1,repeatCount:-1,appendBack:!0,alwaysTrigger:!1,flipListOnHover:!1,currentIndex:0,startNow:!0,useModernizr:typeof window.Modernizr!="undefined",useHardwareAccel:!0,faces:{$front:null,$back:null},animationComplete:function(){},triggerDelay:function(){return Math.random()*3e3},swap:"",swapFront:"-",swapBack:"-",contentModules:[]};var u={init:function(r){var u={};return n.extend(u,n.fn.liveTile.defaults,r),i.checkCapabilities(u),n.fn.liveTile.contentModules.hasContentModule("image")||n.fn.liveTile.contentModules.addContentModule("image",e.imageSwap),n.fn.liveTile.contentModules.hasContentModule("html")||n.fn.liveTile.contentModules.addContentModule("html",e.htmlSwap),n(this).each(function(r,f){var o=n(f),e=t.initTileData(o,u);e.faces=t.prepTile(o,e),e.doAction=function(n){var t=null;switch(e.mode){case"slide":t=e.slide,e.loopCount=n;break;case"carousel":t=e.carousel,e.loopCount=n;break;case"flip":t=e.flip,e.loopCount=n;break;case"flip-list":t=e.flipList,e.loopCount=n}
typeof t=="function"&&(t(n),e.hasRun=!0),n==e.timer.repeatCount&&(e.runEvents=!1)},e.slide=function(n){t.slide(o,n)},e.carousel=function(n){t.carousel(o,n)},e.flip=function(n){t.flip(o,n)},e.flipList=function(n){t.flipList(o,n)},e.timer=new n.fn.metrojs.TileTimer(e.delay,e.doAction,e.repeatCount),o.data("LiveTile",e),(e.mode!=="flip-list"||e.flipListOnHover==!1)&&(e.pauseOnHover?t.bindPauseOnHover(o):e.playOnHover&&t.bindPlayOnHover(o)),(e.link.length>0||typeof e.click=="function")&&o.css({cursor:"pointer"}).bind("click.liveTile",function(){var n=!0;typeof e.click=="function"&&(n=e.click(o,e)||!1),n&&e.link.length>0&&(e.newWindow?window.open(e.link):window.location=e.link)}),e.useHardwareAccel&&i.capabilities.canTransition&&t.bindBounce(o,e),e.startNow&&e.mode!="none"&&(e.runEvents=!0,e.timer.start(e.initDelay))})},goto:function(t){var i,r=typeof t,u;if(r!=="number"&&isNaN(t))
if(r==="string")
if(t=="next")
i={index:-99,delay:0};else if(t.indexOf("prev")===0)
i={index:-100,delay:0};else{n.error(t+' is not a recognized action for .liveTile("goto")');return}
else
r==="object"&&(typeof t.delay=="undefined"&&(t.delay=0),u=typeof t.index,u==="undefined"?t.index=0:u==="string"&&(t.index==="next"?t.index=-99:t.index.indexOf("prev")===0&&(t.index=-100)),i=t);else
i={index:parseInt(t,10),delay:0};return n(this).each(function(t,r){var o=n(r),u=o.data("LiveTile"),s=o.data("metrojs.tile"),f=i.index,e;if(s.animating!==!0){if(u.mode==="carousel"){if(e=u.faces.$listTiles.filter(".active").index(),f===-100?(u.tempValues.animationDirection=typeof i.animationDirection=="undefined"?"backward":i.animationDirection,f=e===0?u.faces.$listTiles.length-1:e-1):f===-99&&(u.tempValues.animationDirection=typeof i.animationDirection=="undefined"?"forward":i.animationDirection,f=e+1),e==f)
return;u.currentIndex=f==0?u.faces.$listTiles.length:f-1}else
u.currentIndex=f;u.runEvents=!0,u.timer.start(i.delay>=0?i.delay:u.delay)}})},play:function(t){var i,r=typeof t;return r==="undefined"?i={delay:-1}:r==="number"?i={delay:t}:r==="object"&&(typeof t.delay=="undefined"&&(t.delay=-1),i=t),n(this).each(function(t,r){var f=n(r),u=f.data("LiveTile");u.runEvents=!0,i.delay<0&&!u.hasRun&&(i.delay=u.initDelay),u.timer.start(i.delay>=0?i.delay:u.delay)})},animate:function(){return n(this).each(function(t,i){var r=n(i),u=r.data("LiveTile");u.doAction()})},stop:function(){return n(this).each(function(t,i){var u=n(i),r=u.data("LiveTile");r.hasRun=!1,r.runEvents=!1,r.timer.stop(),window.clearTimeout(r.eventTimeout),window.clearTimeout(r.flCompleteTimeout),window.clearTimeout(r.completeTimeout),r.mode==="flip-list"&&(window.clearTimeout(r.completeTimeout),r.faces.$listTiles.each(function(t,i){var r=n(i).data("metrojs.tile");window.clearTimeout(r.eventTimeout),window.clearTimeout(r.flCompleteTimeout),window.clearTimeout(r.completeTimeout)}))})},pause:function(){return n(this).each(function(t,i){var u=n(i),r=u.data("LiveTile");r.timer.pause(),r.runEvents=!1,window.clearTimeout(r.eventTimeout),window.clearTimeout(r.flCompleteTimeout),window.clearTimeout(r.completeTimeout),r.mode==="flip-list"&&r.faces.$listTiles.each(function(t,i){var r=n(i).data("metrojs.tile");window.clearTimeout(r.eventTimeout),window.clearTimeout(r.flCompleteTimeout),window.clearTimeout(r.completeTimeout)})})},restart:function(t){var i,r=typeof t;return r==="undefined"?i={delay:-1}:r==="number"?i={delay:t}:r==="object"&&(typeof t.delay=="undefined"&&(t.delay=-1),i=t),n(this).each(function(t,r){var f=n(r),u=f.data("LiveTile");i.delay<0&&!u.hasRun&&(i.delay=u.initDelay),u.hasRun=!1,u.runEvents=!0,u.timer.restart(i.delay>=0?i.delay:u.delay)})},rebind:function(t){return n(this).each(function(i,r){var f=n(r);typeof t!="undefined"?(typeof t.timer!="undefined"&&t.timer!=null&&t.timer.stop(),t.hasRun=!1,u.init.apply(r,t)):u.init.apply(r,{})})},destroy:function(i){var u=typeof i,r;return u==="undefined"?r={removeCss:!1}:u==="boolean"?r={removeCss:option}:u==="object"&&(typeof i.removeCss=="undefined"&&(i.removeCss=!1),r=i),n(this).each(function(i,u){var e=n(u),f=e.data("LiveTile");e.unbind(".liveTile"),t.unbindMsBounce(e,f),f.timer.stop(),window.clearTimeout(f.eventTimeout),window.clearTimeout(f.flCompleteTimeout),window.clearTimeout(f.completeTimeout),f.faces.$listTiles!=null&&f.faces.$listTiles.each(function(t,i){var u=n(i),e;f.mode==="flip-list"&&(e=u.data("metrojs.tile"),window.clearTimeout(e.eventTimeout),window.clearTimeout(e.flCompleteTimeout),window.clearTimeout(e.completeTimeout)),r.removeCss?(u.removeClass("ha"),u.find(f.tileFaceSelector).unbind(".liveTile").removeClass("bounce flip-front flip-back ha slide slide-front slide-back").css({transform:"",transition:"",margin:"",cursor:""})):u.find(f.tileFaceSelector).unbind(".liveTile"),u.removeData("metrojs.tile")}).unbind(".liveTile"),f.faces.$front!=null&&r.removeCss&&f.faces.$front.removeClass("flip-front flip-back ha slide slide-front slide-back").css({transform:"",transition:""}),f.faces.$back!=null&&r.removeCss&&f.faces.$back.removeClass("flip-front flip-back ha slide slide-front slide-back").css({transform:"",transition:"",margin:"",cursor:""}),e.removeClass("ha"),e.removeData("LiveTile"),e.removeData("metrojs.tile"),f=null})}},t={getDataOrDefault:function(n,t,i){return typeof n.data(t)!="undefined"?n.data(t):i},initTileData:function(i,r){var f=!r.ignoreDataAttributes,u={speed:f?this.getDataOrDefault(i,"speed",r.speed):r.speed,delay:f?this.getDataOrDefault(i,"delay",r.delay):r.delay,stops:f?this.getDataOrDefault(i,"stops",r.stops):r.stops,stack:f?this.getDataOrDefault(i,"stack",r.stack):r.stack,mode:f?this.getDataOrDefault(i,"mode",r.mode):r.mode,direction:f?this.getDataOrDefault(i,"direction",r.direction):r.direction,useHardwareAccel:f?this.getDataOrDefault(i,"ha",r.useHardwareAccel):r.useHardwareAccel,repeatCount:f?this.getDataOrDefault(i,"repeat",r.repeatCount):r.repeatCount,swap:f?this.getDataOrDefault(i,"swap",r.swap):r.swap,appendBack:f?this.getDataOrDefault(i,"appendback",r.appendBack):r.appendBack,currentIndex:f?this.getDataOrDefault(i,"start-index",r.currentIndex):r.currentIndex,animationDirection:f?this.getDataOrDefault(i,"slide-direction",r.animationDirection):r.animationDirection,startNow:f?this.getDataOrDefault(i,"start-now",r.startNow):r.startNow,tileSelector:f?this.getDataOrDefault(i,"tile-selector",r.tileSelector):r.tileSelector,tileFaceSelector:f?this.getDataOrDefault(i,"face-selector",r.tileFaceSelector):r.tileFaceSelector,bounce:f?this.getDataOrDefault(i,"bounce",r.bounce):r.bounce,link:f?this.getDataOrDefault(i,"link",r.link):r.link,newWindow:f?this.getDataOrDefault(i,"new-window",r.newWindow):r.newWindow,alwaysTrigger:f?this.getDataOrDefault(i,"always-trigger",r.alwaysTrigger):r.alwaysTrigger,flipListOnHover:f?this.getDataOrDefault(i,"flip-onhover",r.flipListOnHover):r.flipListOnHover,pauseOnHover:f?this.getDataOrDefault(i,"pause-onhover",r.pauseOnHover):r.pauseOnHover,playOnHover:f?this.getDataOrDefault(i,"play-onhover",r.playOnHover):r.playOnHover,runEvents:!1,isReversed:!1,loopCount:0,contentModules:{},listData:[],height:i.height(),width:i.width(),tempValues:{}},e,o,h,c;u.margin=u.direction==="vertical"?u.height/2:u.width/2,u.stops=typeof r.stops=="object"&&r.stops instanceof Array?r.stops:(""+u.stops).split(","),u.stops.length===1&&u.stops.push("0px");var s=u.swap.replace(" ","").split(","),l=f?this.getDataOrDefault(i,"swap-front",r.swapFront):r.swapFront,a=f?this.getDataOrDefault(i,"swap-back",r.swapBack):r.swapBack;for(u.swapFront=l==="-"?s:l.replace(" ","").split(","),u.swapBack=a==="-"?s:a.replace(" ","").split(","),e=0;e<u.swapFront.length;e++)
u.swapFront[e].length>0&&n.inArray(u.swapFront[e],s)===-1&&s.push(u.swapFront[e]);for(e=0;e<u.swapBack.length;e++)
u.swapBack[e].length>0&&n.inArray(u.swapBack[e],s)===-1&&s.push(u.swapBack[e]);for(u.swap=s,e=0;e<s.length;e++)
s[e].length>0&&typeof n.fn.liveTile.contentModules.modules[s[e]]!="undefined"&&(u.contentModules[s[e]]=n.fn.liveTile.contentModules.modules[s[e]]);u.initDelay=f?this.getDataOrDefault(i,"initdelay",r.initDelay):r.initDelay,u.delay<-1?u.delay=r.triggerDelay(1):u.delay<0&&(u.delay=3500+Math.random()*4501),u.initDelay<0&&(u.initDelay=u.delay),o={};for(h in u.contentModules)
n.extend(o,u.contentModules[h].data);n.extend(o,r,u),o.mode==="flip-list"?(c=i.find(o.tileSelector).not(".tile-title"),c.each(function(i,r){var e=n(r),u={direction:f?t.getDataOrDefault(e,"direction",o.direction):o.direction,link:f?t.getDataOrDefault(e,"link",""):"",faces:{$front:null,$back:null},height:e.height(),width:e.width(),isReversed:!1};u.margin=u.direction==="vertical"?u.height/2:u.width/2,o.listData.push(u)})):o.mode==="carousel"&&(o.stack=!0,c=i.find(o.tileSelector).not(".tile-title"),c.each(function(i,r){var u=n(r),e={bounce:f?t.getDataOrDefault(u,"bounce",!1):!1,link:f?t.getDataOrDefault(u,"link",""):"",newWindow:f?t.getDataOrDefault(u,"new-window",""):""};o.listData.push(e)}));for(h in o.contentModules)
typeof o.contentModules[h].initData=="function"&&o.contentModules[h].initData(o,i);return u=null,o},prepTile:function(u,e){var o,s,h,c,l,a;u.addClass(e.mode),o={$tileFaces:null,$listTiles:null,$front:null,$back:null};switch(e.mode){case"slide":o.$tileFaces=u.find(e.tileFaceSelector).not(".tile-title"),o.$front=e.faces.$front!=null&&e.faces.$front.length>0?e.faces.$front.addClass("slide-front"):o.$tileFaces.first().addClass("slide-front"),o.$back=e.faces.$back!=null&&e.faces.$back.length>0?e.faces.$back.addClass("slide-back"):o.$tileFaces.length>1?o.$tileFaces.last().addClass("slide-back"):e.appendBack?n('<div class="slide-back"><\/div>').appendTo(u):n("<div><\/div>"),e.stack==!0&&(e.direction==="vertical"?o.$back.css({top:-e.height+"px"}):o.$back.css({left:-e.width+"px"})),u.data("metrojs.tile",{animating:!1}),i.capabilities.canTransition&&e.useHardwareAccel&&(u.addClass("ha"),o.$front.addClass("ha"),o.$back.addClass("ha"));break;case"carousel":o.$listTiles=u.find(e.tileSelector).not(".tile-title"),a=o.$listTiles.length,u.data("metrojs.tile",{animating:!1}),e.currentIndex=Math.min(e.currentIndex,a-1),o.$listTiles.each(function(r,u){var f=n(u).addClass("slide"),o=e.listData[r];r==e.currentIndex?f.addClass("active"):e.animationDirection==="forward"?e.direction==="vertical"?f.css({top:e.height+"px"}):f.css({left:e.width+"px"}):e.animationDirection==="backward"&&(e.direction==="vertical"?f.css({top:-e.height+"px"}):f.css({left:-e.width+"px"})),t.bindLink(f,o),e.useHardwareAccel&&i.capabilities.canTransition&&t.bindBounce(f,o),f=null,o=null}),i.capabilities.canFlip3d&&e.useHardwareAccel&&(u.addClass("ha"),o.$listTiles.addClass("ha"));break;case"flip-list":o.$listTiles=u.find(e.tileSelector).not(".tile-title"),o.$listTiles.each(function(u,o){var a=n(o).addClass("tile-"+(u+1)),p=a.find(e.tileFaceSelector).first().addClass("flip-front").css({margin:"0px"}),v,y,w;a.find(e.tileFaceSelector).length===1&&e.appendBack==!0&&a.append("<div><\/div>"),v=a.find(e.tileFaceSelector).last().addClass("flip-back").css({margin:"0px"}),e.listData[u].faces.$front=p,e.listData[u].faces.$back=v,a.data("metrojs.tile",{animating:!1,count:1,completeTimeout:null,flCompleteTimeout:null,index:u}),y=a.data("metrojs.tile"),i.capabilities.canFlip3d&&e.useHardwareAccel?(a.addClass("ha"),p.addClass("ha"),v.addClass("ha"),s=e.listData[u].direction==="vertical"?"rotateX(180deg)":"rotateY(180deg)",h=r.appendStyleProperties({},["transform"],[s]),v.css(h)):(c=e.listData[u].direction==="vertical"?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},l=e.listData[u].direction==="vertical"?{height:"0px",width:"100%",marginTop:e.listData[u].margin+"px",opacity:"0"}:{height:"100%",width:"0px",marginLeft:e.listData[u].margin+"px",opacity:"0"},p.css(c),v.css(l)),w=function(){y.count++,y.count>=f&&(y.count=1)},e.flipListOnHover?(p.bind("mouseout.liveTile",function(){e.runEvents&&t.flip(a,y.count,e,w)}),v.bind("mouseout.liveTile",function(){e.runEvents&&t.flip(a,y.count,e,w)})):e.listData[u].link.length>0&&a.css({cursor:"pointer"}).bind("click.liveTile",function(){window.location=e.listData[u].link})});break;case"flip":o.$tileFaces=u.find(e.tileFaceSelector).not(".tile-title"),o.$front=e.faces.$front!=null&&e.faces.$front.length>0?e.faces.$front.addClass("flip-front"):o.$tileFaces.first().addClass("flip-front"),o.$back=e.faces.$back!=null&&e.faces.$back.length>0?e.faces.$back.addClass("flip-back"):o.$tileFaces.length>1?o.$tileFaces.last().addClass("flip-back"):e.appendBack?n('<div class="flip-back"><\/div>').appendTo(u):n("<div><\/div>"),u.data("metrojs.tile",{animating:!1}),i.capabilities.canFlip3d&&e.useHardwareAccel?(u.addClass("ha"),o.$front.addClass("ha"),o.$back.addClass("ha"),s=e.direction==="vertical"?"rotateX(180deg)":"rotateY(180deg)",h=r.appendStyleProperties({},["transform"],[s]),o.$back.css(h)):(c=e.direction==="vertical"?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},l=e.direction==="vertical"?{height:"0px",width:e.width+"px",marginTop:e.margin+"px",opacity:"0"}:{height:e.height+"px",width:"0px",marginLeft:e.margin+"px",opacity:"0"},o.$front.css(c),o.$back.css(l))}
return o},bindPauseOnHover:function(t){function f(){u||r.runEvents&&(r.timer.pause(),u=!0,r.mode==="flip-list"&&r.faces.$listTiles.each(function(t,i){window.clearTimeout(n(i).data("metrojs.tile").completeTimeout)}))}
function e(){u&&(r.runEvents&&r.timer.start(r.hasRun?r.delay:r.initDelay),u=!1)}
var r=t.data("LiveTile"),u=!1;i.capabilities.canTouch?window.navigator.msPointerEnabled?(t[0].addEventListener("MSPointerOver",f,!1),t[0].addEventListener("MSPointerOut",e,!1)):(t.bind("touchstart.liveTile",f),t.bind("touchend.liveTile",e)):(t.bind("mouseover.liveTile",f),t.bind("mouseout.liveTile",e))},bindPlayOnHover:function(n){function f(){if(!r){var i=t.startNow?!t.isReversed:t.isReversed;window.clearTimeout(t.eventTimeout),(t.runEvents&&i||!t.hasRun)&&(r=!0,u.play.apply(n[0],[0]))}}
function e(){r&&(window.clearTimeout(t.eventTimeout),t.eventTimeout=window.setTimeout(function(){var i=t.startNow?t.isReversed:!t.isReversed;t.runEvents&&i&&u.play.apply(n[0],[0]),r=!1},t.speed))}
var t=n.data("LiveTile"),r=!1;n.addClass("noselect"),i.capabilities.canTouch?window.navigator.msPointerEnabled?(n[0].addEventListener("MSPointerDown",f,!1),n.bind("mouseleave.liveTile",e)):(n.bind("touchstart.liveTile",f),n.bind("touchend.liveTile",e)):n.bind({"mouseenter.liveTile":function(n){f(n)},"mouseleave.liveTile":function(n){e(n)}})},bindBounce:function(n,t){if(t.bounce){var i=r.appendStyleProperties({},["TransitionProperty","TransitionDuration"],["scale","200ms"]);n.addClass("bounce"),function(){function e(r){i={x:r.pageX,y:r.pageY},n.addClass("bounce-dwn"),t=!0}
function r(){t===!0&&o()}
function o(){n.removeClass("bounce-dwn"),t=!1,i=f}
var t=!1,u=10,f={x:0,y:0},i=f;window.navigator.msPointerEnabled?(n[0].addEventListener("MSPointerDown",e,!1),n[0].addEventListener("MSPointerCancel",r,!1),n[0].addEventListener("MSPointerOut",r,!1),n[0].addEventListener("MSPointerUp",r,!1)):(n.bind("mousedown.liveTile touchstart.liveTile",e),n.bind("mouseup.liveTile touchend.liveTile, mouseout.liveTile touchcancel.liveTile",r))}
()}},unbindMsBounce:function(n,t){t.bounce&&window.navigator.msPointerEnabled&&(n[0].removeEventListener("MSPointerDown",bounceDown,!1),n[0].removeEventListener("MSPointerCancel",bounceUp,!1),n[0].removeEventListener("MSPointerOut",bounceUp,!1))},bindLink:function(n,t){t.link.length>0&&n.css({cursor:"pointer"}).bind("click.liveTile",function(){t.newWindow?window.open(t.link):window.location=t.link})},slide:function(t,u,f,e,o){var s=typeof f=="undefined"?t.data("LiveTile"):f,c=t.data("metrojs.tile");if(c.animating==!0||t.is(":animated")){s=null,c=null;return}
s.isReversed=s.mode!=="carousel"?u%2==0:!0,s.timer.pause();var h={},p={},k=typeof e=="undefined"?s.currentIndex:e,l=n.trim(s.stops[Math.min(k,s.stops.length-1)]),w=l.indexOf("px"),a=0,v=0,d=s.direction==="vertical"?s.height:s.width,y=s.direction==="vertical"?"top":"left",b=function(){typeof o=="undefined"?(s.currentIndex=s.currentIndex+1,s.currentIndex>s.stops.length-1&&(s.currentIndex=0)):o();for(var n in s.contentModules)
s.contentModules[n].action(s,s.faces.$front,s.faces.$back,s.currentIndex);s.animationComplete(s,s.faces.$front,s.faces.$back),(s.timer.repeatCount>0||s.timer.repeatCount==-1)&&s.timer.count!=s.timer.repeatCount&&s.timer.start(s.delay),s=null,c=null};if(w>0?(v=parseInt(l.substring(0,w),10),a=v-d+"px"):(v=parseInt(l.replace("%",""),10),a=v-100+"%"),i.capabilities.canTransition&&s.useHardwareAccel){if(typeof c.animating!="undefined"&&c.animating==!0)
return;c.animating=!0,h=r.appendStyleProperties(h,["TransitionProperty","TransitionDuration"],[y,s.speed+"ms"]),s.direction==="vertical"?h.top=l:h.left=l,s.faces.$front.css(h),s.stack==!0&&(s.direction==="vertical"?h.top=a:h.left=a,s.faces.$back.css(h)),window.clearTimeout(s.completeTimeout),s.completeTimeout=window.setTimeout(function(){c.animating=!1,b()},s.speed)}else
h[y]=l,p[y]=a,c.animating=!0,s.faces.$front.stop().animate(h,s.speed,"linear",function(){c.animating=!1,b()}),s.stack==!0&&s.faces.$back.stop().animate(p,s.speed,"linear",function(){})},carousel:function(n,i){var u=n.data("LiveTile"),s=n.data("metrojs.tile"),v,o,f;if(s.animating==!0||u.faces.$listTiles.length<=1){s=null;return}
u.timer.pause();var e=u.faces.$listTiles.filter(".active"),h=e.index(),l=Math.max(u.currentIndex,0),a=l!=h?l:h,c=a+1>=u.faces.$listTiles.length?0:a+1;if(h==c){s=null,e=null;return}
v=typeof u.tempValues.animationDirection=="string"&&u.tempValues.animationDirection.length>0?u.tempValues.animationDirection:u.animationDirection,u.tempValues.animationDirection=null,o=u.faces.$listTiles.eq(c),f=r.appendStyleProperties({},["TransitionDuration"],["0s"]),v==="backward"?(u.direction==="vertical"?f.top="-100%":f.left="-100%",u.faces.$front=e,u.faces.$back=o,u.stops=["100%"]):(u.direction==="vertical"?f.top="100%":f.left="100%",u.faces.$front=o,u.faces.$back=e,u.stops=["0px"]),o.css(f),window.setTimeout(function(){(u.timer.repeatCount>0||u.timer.repeatCount==-1)&&u.timer.count!=u.timer.repeatCount&&u.timer.start(u.delay),t.slide(n,i,u,0,function(){e.css(f).removeClass("active"),o.addClass("active"),u.currentIndex=c,s=null,e=null,o=null})},200)},flip:function(n,t,u,f){var h=n.data("metrojs.tile"),b;if(h.animating==!0){anidata=null;return}
var e=typeof u=="object"?u:n.data("LiveTile"),o,s,a,w,k,d,p=typeof f=="undefined",c=0,v=t%2==0;if(e.mode==="flip-list"?(c=h.index,o=e.listData[c].faces.$front,s=e.listData[c].faces.$back,e.listData[c].isReversed=v,a=e.listData[c].direction,height=e.listData[c].height,width=e.listData[c].width,margin=e.listData[c].margin):(o=e.faces.$front,s=e.faces.$back,e.isReversed=v,a=e.direction,height=e.height,width=e.width,margin=e.margin),i.capabilities.canFlip3d&&e.useHardwareAccel){w=v?"360deg":"180deg",k=a==="vertical"?"rotateX("+w+")":"rotateY("+w+")",d=r.appendStyleProperties({},["transform","transition"],[k,"all "+e.speed+"ms ease 0s"]);var g=v?"540deg":"360deg",it=a==="vertical"?"rotateX("+g+")":"rotateY("+g+")",rt=r.appendStyleProperties({},["transform","transition"],[it,"all "+e.speed+"ms ease 0s"]);o.css(d),s.css(rt),b=function(){h.animating=!1;var t,i,n;if(v){t=a==="vertical"?"rotateX(0deg)":"rotateY(0deg)",i=r.appendStyleProperties({},["transform","transition"],[t,"all 0s ease 0s"]),o.css(i);for(n in e.contentModules)
e.contentModules[n].action(e,o,s,c);p?e.animationComplete(e,o,s):f(e,o,s),o=null,s=null,e=null,h=null}else{for(n in e.contentModules)
e.contentModules[n].action(e,s,o,c);p?e.animationComplete(e,s,o):f(e,s,o)}},e.mode==="flip-list"?(window.clearTimeout(e.listData[c].completeTimeout),e.listData[c].completeTimeout=window.setTimeout(b,e.speed)):(window.clearTimeout(e.completeTimeout),e.completeTimeout=window.setTimeout(b,e.speed))}else{var l=e.speed/2,nt=a==="vertical"?{height:"0px",width:"100%",marginTop:margin+"px",opacity:"0"}:{height:"100%",width:"0px",marginLeft:margin+"px",opacity:"0"},tt=a==="vertical"?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},y;v?(h.animating=!0,s.stop().animate(nt,{duration:l}),y=function(){h.animating=!1,o.stop().animate(tt,{duration:l,complete:function(){for(var n in e.contentModules)
e.contentModules[n].action(e,o,s,c);p?e.animationComplete(e,o,s):f(e,o,s),h=null,o=null,s=null}})},e.mode==="flip-list"?(window.clearTimeout(e.listData[h.index].completeTimeout),e.listData[h.index].completeTimeout=window.setTimeout(y,l)):(window.clearTimeout(e.completeTimeout),e.completeTimeout=window.setTimeout(y,l))):(h.animating=!0,o.stop().animate(nt,{duration:l}),y=function(){h.animating=!1,s.stop().animate(tt,{duration:l,complete:function(){for(var n in e.contentModules)
e.contentModules[n].action(e,s,o,c);p?e.animationComplete(e,s,o):f(e,s,o),o=null,s=null,e=null,h=null}})},e.mode==="flip-list"?(window.clearTimeout(e.listData[h.index].completeTimeout),e.listData[h.index].completeTimeout=window.setTimeout(y,l)):(window.clearTimeout(e.completeTimeout),e.completeTimeout=window.setTimeout(y,l)))}},flipList:function(i){var r=i.data("LiveTile"),u=r.speed,e=!1;r.timer.pause(),r.faces.$listTiles.each(function(i,o){var h=n(o),s=h.data("metrojs.tile"),a=r.triggerDelay(i),l=r.speed+Math.max(a,0),c=r.alwaysTrigger;c||(c=Math.random()*351>150?!0:!1),c&&(e=!0,u=Math.max(l+r.speed,u),window.clearTimeout(s.flCompleteTimeout),s.flCompleteTimeout=window.setTimeout(function(){t.flip(h,s.count,r,function(){s.count++,s.count>=f&&(s.count=1),h=null,s=null})},l))}),e&&(window.clearTimeout(r.flCompleteTimeout),r.flCompleteTimeout=window.setTimeout(function(){for(var n in r.contentModules)
r.contentModules[n].action(r,null,null,-1);r.animationComplete(r,null,null),(r.timer.repeatCount>0||r.timer.repeatCount==-1)&&r.timer.count!=r.timer.repeatCount&&r.timer.start(r.delay)},u+r.speed))}},r={stylePrefixes:"Webkit Moz O ms Khtml ".split(" "),domPrefixes:"-webkit- -moz- -o- -ms- -khtml- ".split(" "),appendStyleProperties:function(t,i,r){for(var f,u=0;u<=i.length-1;u++)
for(f=0;f<=this.stylePrefixes.length-1;f++)
t[n.trim(this.domPrefixes[f]+i[u])]=r[u];return t},shuffleArray:function(n){for(var t=[];n.length;)
t.push(n.splice(Math.random()*n.length,1));while(t.length)
n.push(t.pop());return n}},e={htmlSwap:{data:{frontContent:[],frontIsRandom:!0,frontIsInGrid:!1,backContent:[],backIsRandom:!0,backIsInGrid:!1},initData:function(i,r){var u={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,prevBackIndex:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevFrontIndex:-1};u.frontIsRandom=i.ignoreDataAttributes?i.frontIsRandom:t.getDataOrDefault(r,"front-israndom",i.frontIsRandom),u.frontIsInGrid=i.ignoreDataAttributes?i.frontIsInGrid:t.getDataOrDefault(r,"front-isingrid",i.frontIsInGrid),u.backIsRandom=i.ignoreDataAttributes?i.backIsRandom:t.getDataOrDefault(r,"back-israndom",i.backIsRandom),u.backIsInGrid=i.ignoreDataAttributes?i.backIsInGrid:t.getDataOrDefault(r,"back-isingrid",i.backIsInGrid),u.doSwapFront=n.inArray("html",i.swapFront)>-1&&i.frontContent instanceof Array&&i.frontContent.length>0,u.doSwapBack=n.inArray("html",i.swapBack)>-1&&i.backContent instanceof Array&&i.backContent.length>0,i.htmlSwap=typeof i.htmlSwap!="undefined"?n.extend(u,i.htmlSwap):u,i.htmlSwap.doSwapFront&&(i.htmlSwap.frontBag=this.prepBag(i.htmlSwap.frontBag,i.frontContent,i.htmlSwap.prevFrontIndex),i.htmlSwap.frontStaticRndm=i.htmlSwap.frontBag.pop()),i.htmlSwap.doSwapBack&&(i.htmlSwap.backBag=this.prepBag(i.htmlSwap.backBag,i.backContent,i.htmlSwap.prevBackIndex),i.htmlSwap.backStaticRndm=i.htmlSwap.backBag.pop())},prepBag:function(n,t,i){var f,u;for(n=[],f=0,u=0;u<t.length;u++)
(u!=i||n.length===1)&&(n[f]=u,f++);return r.shuffleArray(n)},getFrontSwapIndex:function(n){var t=0;return n.htmlSwap.frontIsRandom?(n.htmlSwap.frontBag.length===0&&(n.htmlSwap.frontBag=this.prepBag(n.htmlSwap.frontBag,n.frontContent,n.htmlSwap.prevFrontIndex)),t=n.htmlSwap.frontIsInGrid?n.htmlSwap.frontStaticRndm:n.htmlSwap.frontBag.pop()):t=n.htmlSwap.frontIsInGrid?n.htmlSwap.frontStaticIndex:n.htmlSwap.frontIndex,t},getBackSwapIndex:function(n){var t=0;return n.htmlSwap.backIsRandom?(n.htmlSwap.backBag.length===0&&(n.htmlSwap.backBag=this.prepBag(n.htmlSwap.backBag,n.backContent,n.htmlSwap.prevBackIndex)),t=n.htmlSwap.backIsInGrid?n.htmlSwap.backStaticRndm:n.htmlSwap.backBag.pop()):t=n.htmlSwap.backIsInGrid?n.htmlSwap.backStaticIndex:n.htmlSwap.backIndex,t},action:function(n,t,i,r){if(n.htmlSwap.doSwapFront||n.htmlSwap.doSwapBack){var f=n.mode==="flip-list",u=0,e=f?n.listData[Math.max(r,0)].isReversed:n.isReversed;if(f&&r==-1){e?n.htmlSwap.doSwapBack&&(n.htmlSwap.backBag.length===0&&(n.htmlSwap.backBag=this.prepBag(n.htmlSwap.backBag,n.backContent,n.htmlSwap.backStaticRndm)),n.htmlSwap.backStaticRndm=n.htmlSwap.backBag.pop(),n.htmlSwap.backStaticIndex++,n.htmlSwap.backStaticIndex>=n.backContent.length&&(n.htmlSwap.backStaticIndex=0)):n.htmlSwap.doSwapFront&&(n.htmlSwap.frontBag.length===0&&(n.htmlSwap.frontBag=this.prepBag(n.htmlSwap.frontBag,n.frontContent,n.htmlSwap.frontStaticRndm)),n.htmlSwap.frontStaticRndm=n.htmlSwap.frontBag.pop(),n.htmlSwap.frontStaticIndex++,n.htmlSwap.frontStaticIndex>=n.frontContent.length&&(n.htmlSwap.frontStaticIndex=0));return}
if(e){if(!n.htmlSwap.doSwapBack)
return;u=this.getBackSwapIndex(n),n.htmlSwap.prevBackIndex=u,i.html(n.backContent[n.htmlSwap.backIndex]),n.htmlSwap.backIndex++,n.htmlSwap.backIndex>=n.backContent.length&&(n.htmlSwap.backIndex=0),f||(n.htmlSwap.backStaticIndex++,n.htmlSwap.backStaticIndex>=n.backContent.length&&(n.htmlSwap.backStaticIndex=0))}else{if(!n.htmlSwap.doSwapFront)
return;u=this.getFrontSwapIndex(n),n.htmlSwap.prevFrontIndex=u,n.mode==="slide"?data.startNow?i.html(n.frontContent[u]):t.html(n.frontContent[u]):i.html(n.frontContent[u]),n.htmlSwap.frontIndex++,n.htmlSwap.frontIndex>=n.frontContent.length&&(n.htmlSwap.frontIndex=0),f||(n.htmlSwap.frontStaticIndex++,n.htmlSwap.frontStaticIndex>=n.frontContent.length&&(n.htmlSwap.frontStaticIndex=0))}}}},imageSwap:{data:{preloadImages:!1,imageCssSelector:">img,>a>img",frontImages:[],frontIsRandom:!0,frontIsBackgroundImage:!1,frontIsInGrid:!1,backImages:null,backIsRandom:!0,backIsBackgroundImage:!1,backIsInGrid:!1},initData:function(i,r){var u={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevBackIndex:-1,prevFrontIndex:-1};u.imageCssSelector=i.ignoreDataAttributes?i.imageCssSelector:t.getDataOrDefault(r,"image-css",i.imageCssSelector),u.frontIsRandom=i.ignoreDataAttributes?i.frontIsRandom:t.getDataOrDefault(r,"front-israndom",i.frontIsRandom),u.frontIsInGrid=i.ignoreDataAttributes?i.frontIsInGrid:t.getDataOrDefault(r,"front-isingrid",i.frontIsInGrid),u.frontIsBackgroundImage=i.ignoreDataAttributes?i.frontIsBackgroundImage:t.getDataOrDefault(r,"front-isbg",i.frontIsBackgroundImage),u.backIsRandom=i.ignoreDataAttributes?i.backIsRandom:t.getDataOrDefault(r,"back-israndom",i.backIsRandom),u.backIsInGrid=i.ignoreDataAttributes?i.backIsInGrid:t.getDataOrDefault(r,"back-isingrid",i.backIsInGrid),u.backIsBackgroundImage=i.ignoreDataAttributes?i.backIsBackgroundImage:t.getDataOrDefault(r,"back-isbg",i.backIsBackgroundImage),u.doSwapFront=n.inArray("image",i.swapFront)>-1&&i.frontImages instanceof Array&&i.frontImages.length>0,u.doSwapBack=n.inArray("image",i.swapBack)>-1&&i.backImages instanceof Array&&i.backImages.length>0,i.imgSwap=typeof i.imgSwap!="undefined"?n.extend(u,i.imgSwap):u,i.imgSwap.doSwapFront&&(i.imgSwap.frontBag=this.prepBag(i.imgSwap.frontBag,i.frontImages,i.imgSwap.prevFrontIndex),i.imgSwap.frontStaticRndm=i.imgSwap.frontBag.pop(),i.preloadImages&&n(i.frontImages).metrojs.preloadImages(function(){})),i.imgSwap.doSwapBack&&(i.imgSwap.backBag=this.prepBag(i.imgSwap.backBag,i.backImages,i.imgSwap.prevBackIndex),i.imgSwap.backStaticRndm=i.imgSwap.backBag.pop(),i.preloadImages&&n(i.backImages).metrojs.preloadImages(function(){}))},prepBag:function(n,t,i){var f,u;for(n=[],f=0,u=0;u<t.length;u++)
(u!=i||t.length===1)&&(n[f]=u,f++);return r.shuffleArray(n)},getFrontSwapIndex:function(n){var t=0;return n.imgSwap.frontIsRandom?(n.imgSwap.frontBag.length===0&&(n.imgSwap.frontBag=this.prepBag(n.imgSwap.frontBag,n.frontImages,n.imgSwap.prevFrontIndex)),t=n.imgSwap.frontIsInGrid?n.imgSwap.frontStaticRndm:n.imgSwap.frontBag.pop()):t=n.imgSwap.frontIsInGrid?n.imgSwap.frontStaticIndex:n.imgSwap.frontIndex,t},getBackSwapIndex:function(n){var t=0;return n.imgSwap.backIsRandom?(n.imgSwap.backBag.length===0&&(n.imgSwap.backBag=this.prepBag(n.imgSwap.backBag,n.backImages,n.imgSwap.prevBackIndex)),t=n.imgSwap.backIsInGrid?n.imgSwap.backStaticRndm:n.imgSwap.backBag.pop()):t=n.imgSwap.backIsInGrid?n.imgSwap.backStaticIndex:n.imgSwap.backIndex,t},setImageProperties:function(t,i,r){var f={},u={};typeof i.src!="undefined"&&(r?f.backgroundImage="url('"+i.src+"')":u.src=i.src),typeof i.alt!="undefined"&&(u.alt=i.alt),typeof i.css=="object"?t.css(n.extend(f,i.css)):t.css(f),typeof i.attr=="object"?t.attr(n.extend(u,i.attr)):t.attr(u)},action:function(n,t,i,r){var f,e,s;if(n.imgSwap.doSwapFront||n.imgSwap.doSwapBack){var o=n.mode==="flip-list",u=0,h=o?n.listData[Math.max(r,0)].isReversed:n.isReversed;if(o&&r==-1){h?n.imgSwap.doSwapBack&&(n.imgSwap.backBag.length===0&&(n.imgSwap.backBag=this.prepBag(n.imgSwap.backBag,n.backImages,n.imgSwap.backStaticRndm)),n.imgSwap.backStaticRndm=n.imgSwap.backBag.pop(),n.imgSwap.backStaticIndex++,n.imgSwap.backStaticIndex>=n.backImages.length&&(n.imgSwap.backStaticIndex=0)):n.imgSwap.doSwapFront&&(n.imgSwap.frontBag.length===0&&(n.imgSwap.frontBag=this.prepBag(n.imgSwap.frontBag,n.frontImages,n.imgSwap.frontStaticRndm)),n.imgSwap.frontStaticRndm=n.imgSwap.frontBag.pop(),n.imgSwap.frontStaticIndex++,n.imgSwap.frontStaticIndex>=n.frontImages.length&&(n.imgSwap.frontStaticIndex=0));return}
if(h){if(!n.imgSwap.doSwapBack)
return;u=this.getBackSwapIndex(n),n.imgSwap.prevBackIndex=u,f=i,e=f.find(n.imgSwap.imageCssSelector),s=typeof n.backImages[u]=="object"?n.backImages[u]:{src:n.backImages[u]},this.setImageProperties(e,s,n.imgSwap.backIsBackgroundImage),n.imgSwap.backIndex++,n.imgSwap.backIndex>=n.backImages.length&&(n.imgSwap.backIndex=0),o||(n.imgSwap.backStaticIndex++,n.imgSwap.backStaticIndex>=n.backImages.length&&(n.imgSwap.backStaticIndex=0))}else{if(!n.imgSwap.doSwapFront)
return;u=this.getFrontSwapIndex(n),n.imgSwap.prevFrontIndex=u,f=n.mode==="slide"?t:i,e=f.find(n.imgSwap.imageCssSelector),s=typeof n.frontImages[u]=="object"?n.frontImages[u]:{src:n.frontImages[u]},this.setImageProperties(e,s,n.imgSwap.frontIsBackgroundImage),n.imgSwap.frontIndex++,n.imgSwap.frontIndex>=n.frontImages.length&&(n.imgSwap.frontIndex=0),o||(n.imgSwap.frontStaticIndex++,n.imgSwap.frontStaticIndex>=n.frontImages.length&&(n.imgSwap.frontStaticIndex=0))}
f=null,e=null}}}};n.fn.metrojs.TileTimer=function(n,t,i){var r=this;this.timerId=null,this.interval=n,this.action=t,this.count=0,this.repeatCount=typeof i=="undefined"?0:i,this.start=function(t){window.clearTimeout(this.timerId),r.timerId=window.setTimeout(function(){r.action(r.count+1),r.count++,r.count>=f&&(r.count=0),(r.repeatCount>0||r.repeatCount==-1)&&(r.count!=r.repeatCount?r.start(n):r.stop())},t)},this.stop=function(){r.timerId=window.clearTimeout(this.timerId),r.reset()},this.resume=function(){(r.repeatCount>0||r.repeatCount==-1)&&r.count!=r.repeatCount&&r.start(n)},this.pause=function(){r.timerId=window.clearTimeout(this.timerId)},this.reset=function(){r.count=0},this.restart=function(n){r.stop(),r.start(n)}},n.fn.metrojs.theme={loadDefaultTheme:function(n){var t,i,r;typeof n=="undefined"||n==null?n=n.fn.metrojs.theme.defaults:(t=n.fn.metrojs.theme.defaults,n.extend(t,n),n=t),i=typeof window.localStorage!="undefined",r=function(n){return typeof window.localStorage[n]!="undefined"&&window.localStorage[n]!=null},!i||r("Metro.JS.AccentColor")&&r("Metro.JS.BaseAccentColor")?i?(n.accentColor=window.localStorage["Metro.JS.AccentColor"],n.baseTheme=window.localStorage["Metro.JS.BaseAccentColor"],n(n.accentCssSelector).addClass(n.accentColor).data("accent",n.accentColor),n(n.baseThemeCssSelector).addClass(n.baseTheme),typeof(n.loaded=="function")&&n.loaded(n.baseTheme,n.accentColor)):(n(n.accentCssSelector).addClass(n.accentColor).data("accent",n.accentColor),n(n.baseThemeCssSelector).addClass(n.baseTheme),typeof(n.loaded=="function")&&n.loaded(n.baseTheme,n.accentColor),typeof n.preloadAltBaseTheme!="undefined"&&n.preloadAltBaseTheme&&n([n.baseTheme=="dark"?n.metroLightUrl:n.metroDarkUrl]).metrojs.preloadImages(function(){})):(window.localStorage["Metro.JS.AccentColor"]=n.accentColor,window.localStorage["Metro.JS.BaseAccentColor"]=n.baseTheme,n(n.accentCssSelector).addClass(n.accentColor).data("accent",n.accentColor),n(n.baseThemeCssSelector).addClass(n.baseTheme),typeof(n.loaded=="function")&&n.loaded(n.baseTheme,n.accentColor),typeof n.preloadAltBaseTheme!="undefined"&&n.preloadAltBaseTheme&&n([n.baseTheme=="dark"?n.metroLightUrl:n.metroDarkUrl]).metrojs.preloadImages(function(){}))},applyTheme:function(n,t,i){var u,r,f,e;typeof i=="undefined"||i==null?i=n.fn.metrojs.theme.defaults:(u=n.fn.metrojs.theme.defaults,n.extend(u,i),i=u),typeof n!="undefined"&&n!=null&&(typeof window.localStorage!="undefined"&&(window.localStorage["Metro.JS.BaseAccentColor"]=n),r=n(i.baseThemeCssSelector),r.length>0&&(n=="dark"?r.addClass("dark").removeClass("light"):n=="light"&&r.addClass("light").removeClass("dark"))),typeof t!="undefined"&&t!=null&&(typeof window.localStorage!="undefined"&&(window.localStorage["Metro.JS.AccentColor"]=t),f=n(i.accentCssSelector),f.length>0&&(e=!1,f.each(function(){var i,n;n(this).addClass(t),i=n(this).data("accent"),i!=t&&(n=n(this).attr("class").replace(i,""),n=n.replace(/(\s)+/," "),n(this).attr("class",n),n(this).data("accent",t),e=!0)}),e&&typeof i.accentPicked=="function"&&i.accentPicked(t)))},appendAccentColors:function(t){var r,i;typeof t=="undefined"||t==null?t=n.fn.metrojs.theme.defaults:(r=n.fn.metrojs.theme.defaults,n.extend(r,t),t=r);var u="",f=t.accentColors,e=t.accentListTemplate;for(i=0;i<f.length;i++)
u+=e.replace(/\{0\}/g,f[i]);n(u).appendTo(t.accentListContainer)},appendBaseThemes:function(t){var r,i;typeof t=="undefined"||t==null?t=n.fn.metrojs.theme.defaults:(r=n.fn.metrojs.theme.defaults,n.extend(r,t),t=r);var u="",f=t.baseThemes,e=t.baseThemeListTemplate;for(i=0;i<f.length;i++)
u+=e.replace(/\{0\}/g,f[i]);n(u).appendTo(t.baseThemeListContainer)},defaults:{baseThemeCssSelector:"body",accentCssSelector:".tiles",accentColor:"blue",baseTheme:"dark",accentColors:["amber","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"],baseThemes:["light","dark"],accentListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'><\/a><\/li>",accentListContainer:".theme-options",baseThemeListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'><\/a><\/li>",baseThemeListContainer:".base-theme-options"}},n.fn.applicationBar=function(t){var i=typeof n.fn.metrojs.theme!="undefined"?n.fn.metrojs.theme.defaults:{},r,u,f;n.extend(i,n.fn.applicationBar.defaults,t),typeof n.fn.metrojs.theme!="undefined"&&(r=n.fn.metrojs.theme,t.shouldApplyTheme&&r.loadDefaultTheme(i),u=i.accentListContainer+" a",n(u).live("click",function(){var n=n(this).attr("class").replace("accent","").replace(" ","");r.applyTheme(null,n,i),typeof i.accentPicked=="function"&&i.accentPicked(n)}),f=i.baseThemeListContainer+" a",n(f).live("click",function(){var n=n(this).attr("class").replace("accent","").replace(" ","");r.applyTheme(n,null,i),typeof i.themePicked=="function"&&i.themePicked(n)})),n(this).each(function(){var n=n(this);navigator.userAgent.match(/(Android|webOS|iPhone|iPod|BlackBerry|PIE|IEMobile)/i)&&(navigator.userAgent.match(/(IEMobile\/1)/i)||navigator.userAgent.match(/(iPhone OS [56789])/i)||n.css({position:"absolute",bottom:"0px"})),n.animateAppBar=function(t){var r=t?i.collapseHeight:i.expandHeight;t?n.removeClass("expanded"):n.hasClass("expanded")||n.addClass("expanded"),n.stop().animate({height:r},{duration:i.duration})},n.find("a.etc").click(function(){n.animateAppBar(n.hasClass("expanded"))}),i.bindKeyboard==!0&&n(document.documentElement).keyup(function(t){t.keyCode==38?t.target&&t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)==null&&(n.hasClass("expanded")||n.animateAppBar(!1)):t.keyCode==40&&t.target&&t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)==null&&n.hasClass("expanded")&&n.animateAppBar(!0)})})},n.fn.applicationBar.defaults={applyTheme:!0,themePicked:function(){},accentPicked:function(){},loaded:function(){},duration:300,expandHeight:"320px",collapseHeight:"60px",bindKeyboard:!0,metroLightUrl:"images/metroIcons_light.jpg",metroDarkUrl:"images/metroIcons.jpg",preloadAltBaseTheme:!1},n.fn.metrojs.preloadImages=function(n){var t=n(this).toArray(),i=n("<img style='display:none;' />").appendTo("body");n(this).each(function(){i.attr({src:this}).load(function(){for(var r=n(this).attr("src"),i=0;i<t.length;i++)
t[i]==element&&t.splice(i,1);t.length==0&&n()})}),i.remove()},n.fn.metrojs.MetroModernizr=function(t){if(typeof t=="undefined"&&(t={useHardwareAccel:!0,useModernizr:typeof window.Modernizr!="undefined"}),this.canTransform=!1,this.canTransition=!1,this.canTransform3d=!1,this.canAnimate=!1,this.canTouch=!1,this.canFlip3d=t.useHardwareAccel,t.useHardwareAccel==!0)
if(t.useModernizr==!1)
if(typeof window.MetroModernizr!="undefined")
this.canTransform=window.MetroModernizr.canTransform,this.canTransition=window.MetroModernizr.canTransition,this.canTransform3d=window.MetroModernizr.canTransform3d,this.canAnimate=window.MetroModernizr.canAnimate,this.canTouch=window.MetroModernizr.canTouch;else{window.MetroModernizr={};var i="metromodernizr",r=document.documentElement,e=document.head||document.getElementsByTagName("head")[0],u=document.createElement(i),o=u.style,s=" -webkit- -moz- -o- -ms- ".split(" "),l="Webkit Moz O ms Khtml".split(" "),f=function(n,t){for(var i in n)
if(o[n[i]]!==undefined&&(!t||t(n[i],u)))
return!0},h=function(n,t){var i=n.charAt(0).toUpperCase()+n.substr(1),r=(n+" "+l.join(i+" ")+i).split(" ");return!!f(r,t)},a=function(){var n=!!f(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return n&&"webkitPerspective"in r.style&&(n=c(["@media (",s.join("transform-3d),("),i,")","{#metromodernizr{left:9px;position:absolute;height:3px;}}"].join(""),function(n){return n.offsetHeight===3&&n.offsetLeft===9})),n},c=function(n,t){var f=document.createElement("style"),u=document.createElement("div"),o;return f.textContent=n,e.appendChild(f),u.id=i,r.appendChild(u),o=t(u),f.parentNode.removeChild(f),u.parentNode.removeChild(u),!!o};function jc(){return canTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||typeof window.navigator.msMaxTouchPoints!="undefined"&&window.navigator.msMaxTouchPoints>0||c(["@media (",s.join("touch-enabled),("),i,")","{#metromodernizr{top:9px;position:absolute}}"].join(""),function(cc){return cc.offsetTop===9})}
this.canTransform=!!f(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),this.canTransition=h("transitionProperty"),this.canTransform3d=a(),this.canAnimate=h("animationName"),this.canTouch=jc(),window.MetroModernizr.canTransform=this.canTransform,window.MetroModernizr.canTransition=this.canTransition,window.MetroModernizr.canTransform3d=this.canTransform3d,window.MetroModernizr.canAnimate=this.canAnimate,window.MetroModernizr.canTouch=this.canTouch,r=null,e=null,u=null,o=null}
else
this.canTransform=n("html").hasClass("csstransforms"),this.canTransition=n("html").hasClass("csstransitions"),this.canTransform3d=n("html").hasClass("csstransforms3d"),this.canAnimate=n("html").hasClass("cssanimations"),this.canTouch=n("html").hasClass("touch")||typeof window.navigator.msMaxTouchPoints!="undefined"&&window.navigator.msMaxTouchPoints>0;this.canFlip3d=this.canFlip3d&&this.canAnimate&&this.canTransform&&this.canTransform3d}})(jQuery);!function(t,e){"use strict";"function"==typeof define&&define.amd?define("jquery-bridget/jquery-bridget",["jquery"],function(i){e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("jquery")):t.jQueryBridget=e(t,t.jQuery)}(window,function(t,e){"use strict";function i(i,s,a){function u(t,e,n){var o,s="$()."+i+'("'+e+'")';return t.each(function(t,u){var h=a.data(u,i);if(!h)return void r(i+" not initialized. Cannot call methods, i.e. "+s);var d=h[e];if(!d||"_"==e.charAt(0))return void r(s+" is not a valid method");var l=d.apply(h,n);o=void 0===o?l:o}),void 0!==o?o:t}function h(t,e){t.each(function(t,n){var o=a.data(n,i);o?(o.option(e),o._init()):(o=new s(n,e),a.data(n,i,o))})}a=a||e||t.jQuery,a&&(s.prototype.option||(s.prototype.option=function(t){a.isPlainObject(t)&&(this.options=a.extend(!0,this.options,t))}),a.fn[i]=function(t){if("string"==typeof t){var e=o.call(arguments,1);return u(this,t,e)}return h(this,t),this},n(a))}function n(t){!t||t&&t.bridget||(t.bridget=i)}var o=Array.prototype.slice,s=t.console,r="undefined"==typeof s?function(){}:function(t){s.error(t)};return n(e||t.jQuery),i}),function(t,e){"function"==typeof define&&define.amd?define("ev-emitter/ev-emitter",e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return-1==n.indexOf(e)&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return-1!=n&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var s=this._onceEvents&&this._onceEvents[t];o;){var r=s&&s[o];r&&(this.off(t,o),delete s[o]),o.apply(this,e),n+=r?0:1,o=i[n]}return this}},t}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("get-size/get-size",[],function(){return e()}):"object"==typeof module&&module.exports?module.exports=e():t.getSize=e()}(window,function(){"use strict";function t(t){var e=parseFloat(t),i=-1==t.indexOf("%")&&!isNaN(e);return i&&e}function e(){}function i(){for(var t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},e=0;h>e;e++){var i=u[e];t[i]=0}return t}function n(t){var e=getComputedStyle(t);return e||a("Style returned "+e+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),e}function o(){if(!d){d=!0;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style.boxSizing="border-box";var i=document.body||document.documentElement;i.appendChild(e);var o=n(e);s.isBoxSizeOuter=r=200==t(o.width),i.removeChild(e)}}function s(e){if(o(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var s=n(e);if("none"==s.display)return i();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;for(var d=a.isBorderBox="border-box"==s.boxSizing,l=0;h>l;l++){var f=u[l],c=s[f],m=parseFloat(c);a[f]=isNaN(m)?0:m}var p=a.paddingLeft+a.paddingRight,y=a.paddingTop+a.paddingBottom,g=a.marginLeft+a.marginRight,v=a.marginTop+a.marginBottom,_=a.borderLeftWidth+a.borderRightWidth,I=a.borderTopWidth+a.borderBottomWidth,z=d&&r,x=t(s.width);x!==!1&&(a.width=x+(z?0:p+_));var S=t(s.height);return S!==!1&&(a.height=S+(z?0:y+I)),a.innerWidth=a.width-(p+_),a.innerHeight=a.height-(y+I),a.outerWidth=a.width+g,a.outerHeight=a.height+v,a}}var r,a="undefined"==typeof console?e:function(t){console.error(t)},u=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"],h=u.length,d=!1;return s}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("desandro-matches-selector/matches-selector",e):"object"==typeof module&&module.exports?module.exports=e():t.matchesSelector=e()}(window,function(){"use strict";var t=function(){var t=Element.prototype;if(t.matches)return"matches";if(t.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],i=0;i<e.length;i++){var n=e[i],o=n+"MatchesSelector";if(t[o])return o}}();return function(e,i){return e[t](i)}}),function(t,e){"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["desandro-matches-selector/matches-selector"],function(i){return e(t,i)}):"object"==typeof module&&module.exports?module.exports=e(t,require("desandro-matches-selector")):t.fizzyUIUtils=e(t,t.matchesSelector)}(window,function(t,e){var i={};i.extend=function(t,e){for(var i in e)t[i]=e[i];return t},i.modulo=function(t,e){return(t%e+e)%e},i.makeArray=function(t){var e=[];if(Array.isArray(t))e=t;else if(t&&"number"==typeof t.length)for(var i=0;i<t.length;i++)e.push(t[i]);else e.push(t);return e},i.removeFrom=function(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)},i.getParent=function(t,i){for(;t!=document.body;)if(t=t.parentNode,e(t,i))return t},i.getQueryElement=function(t){return"string"==typeof t?document.querySelector(t):t},i.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.filterFindElements=function(t,n){t=i.makeArray(t);var o=[];return t.forEach(function(t){if(t instanceof HTMLElement){if(!n)return void o.push(t);e(t,n)&&o.push(t);for(var i=t.querySelectorAll(n),s=0;s<i.length;s++)o.push(i[s])}}),o},i.debounceMethod=function(t,e,i){var n=t.prototype[e],o=e+"Timeout";t.prototype[e]=function(){var t=this[o];t&&clearTimeout(t);var e=arguments,s=this;this[o]=setTimeout(function(){n.apply(s,e),delete s[o]},i||100)}},i.docReady=function(t){var e=document.readyState;"complete"==e||"interactive"==e?t():document.addEventListener("DOMContentLoaded",t)},i.toDashed=function(t){return t.replace(/(.)([A-Z])/g,function(t,e,i){return e+"-"+i}).toLowerCase()};var n=t.console;return i.htmlInit=function(e,o){i.docReady(function(){var s=i.toDashed(o),r="data-"+s,a=document.querySelectorAll("["+r+"]"),u=document.querySelectorAll(".js-"+s),h=i.makeArray(a).concat(i.makeArray(u)),d=r+"-options",l=t.jQuery;h.forEach(function(t){var i,s=t.getAttribute(r)||t.getAttribute(d);try{i=s&&JSON.parse(s)}catch(a){return void(n&&n.error("Error parsing "+r+" on "+t.className+": "+a))}var u=new e(t,i);l&&l.data(t,o,u)})})},i}),function(t,e){"function"==typeof define&&define.amd?define("outlayer/item",["ev-emitter/ev-emitter","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("ev-emitter"),require("get-size")):(t.Outlayer={},t.Outlayer.Item=e(t.EvEmitter,t.getSize))}(window,function(t,e){"use strict";function i(t){for(var e in t)return!1;return e=null,!0}function n(t,e){t&&(this.element=t,this.layout=e,this.position={x:0,y:0},this._create())}function o(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}var s=document.documentElement.style,r="string"==typeof s.transition?"transition":"WebkitTransition",a="string"==typeof s.transform?"transform":"WebkitTransform",u={WebkitTransition:"webkitTransitionEnd",transition:"transitionend"}[r],h={transform:a,transition:r,transitionDuration:r+"Duration",transitionProperty:r+"Property",transitionDelay:r+"Delay"},d=n.prototype=Object.create(t.prototype);d.constructor=n,d._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},d.getSize=function(){this.size=e(this.element)},d.css=function(t){var e=this.element.style;for(var i in t){var n=h[i]||i;e[n]=t[i]}},d.getPosition=function(){var t=getComputedStyle(this.element),e=this.layout._getOption("originLeft"),i=this.layout._getOption("originTop"),n=t[e?"left":"right"],o=t[i?"top":"bottom"],s=this.layout.size,r=-1!=n.indexOf("%")?parseFloat(n)/100*s.width:parseInt(n,10),a=-1!=o.indexOf("%")?parseFloat(o)/100*s.height:parseInt(o,10);r=isNaN(r)?0:r,a=isNaN(a)?0:a,r-=e?s.paddingLeft:s.paddingRight,a-=i?s.paddingTop:s.paddingBottom,this.position.x=r,this.position.y=a},d.layoutPosition=function(){var t=this.layout.size,e={},i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop"),o=i?"paddingLeft":"paddingRight",s=i?"left":"right",r=i?"right":"left",a=this.position.x+t[o];e[s]=this.getXValue(a),e[r]="";var u=n?"paddingTop":"paddingBottom",h=n?"top":"bottom",d=n?"bottom":"top",l=this.position.y+t[u];e[h]=this.getYValue(l),e[d]="",this.css(e),this.emitEvent("layout",[this])},d.getXValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&!e?t/this.layout.size.width*100+"%":t+"px"},d.getYValue=function(t){var e=this.layout._getOption("horizontal");return this.layout.options.percentPosition&&e?t/this.layout.size.height*100+"%":t+"px"},d._transitionTo=function(t,e){this.getPosition();var i=this.position.x,n=this.position.y,o=parseInt(t,10),s=parseInt(e,10),r=o===this.position.x&&s===this.position.y;if(this.setPosition(t,e),r&&!this.isTransitioning)return void this.layoutPosition();var a=t-i,u=e-n,h={};h.transform=this.getTranslate(a,u),this.transition({to:h,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.getTranslate=function(t,e){var i=this.layout._getOption("originLeft"),n=this.layout._getOption("originTop");return t=i?t:-t,e=n?e:-e,"translate3d("+t+"px, "+e+"px, 0)"},d.goTo=function(t,e){this.setPosition(t,e),this.layoutPosition()},d.moveTo=d._transitionTo,d.setPosition=function(t,e){this.position.x=parseInt(t,10),this.position.y=parseInt(e,10)},d._nonTransition=function(t){this.css(t.to),t.isCleaning&&this._removeStyles(t.to);for(var e in t.onTransitionEnd)t.onTransitionEnd[e].call(this)},d.transition=function(t){if(!parseFloat(this.layout.options.transitionDuration))return void this._nonTransition(t);var e=this._transn;for(var i in t.onTransitionEnd)e.onEnd[i]=t.onTransitionEnd[i];for(i in t.to)e.ingProperties[i]=!0,t.isCleaning&&(e.clean[i]=!0);if(t.from){this.css(t.from);var n=this.element.offsetHeight;n=null}this.enableTransition(t.to),this.css(t.to),this.isTransitioning=!0};var l="opacity,"+o(a);d.enableTransition=function(){if(!this.isTransitioning){var t=this.layout.options.transitionDuration;t="number"==typeof t?t+"ms":t,this.css({transitionProperty:l,transitionDuration:t,transitionDelay:this.staggerDelay||0}),this.element.addEventListener(u,this,!1)}},d.onwebkitTransitionEnd=function(t){this.ontransitionend(t)},d.onotransitionend=function(t){this.ontransitionend(t)};var f={"-webkit-transform":"transform"};d.ontransitionend=function(t){if(t.target===this.element){var e=this._transn,n=f[t.propertyName]||t.propertyName;if(delete e.ingProperties[n],i(e.ingProperties)&&this.disableTransition(),n in e.clean&&(this.element.style[t.propertyName]="",delete e.clean[n]),n in e.onEnd){var o=e.onEnd[n];o.call(this),delete e.onEnd[n]}this.emitEvent("transitionEnd",[this])}},d.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(u,this,!1),this.isTransitioning=!1},d._removeStyles=function(t){var e={};for(var i in t)e[i]="";this.css(e)};var c={transitionProperty:"",transitionDuration:"",transitionDelay:""};return d.removeTransitionStyles=function(){this.css(c)},d.stagger=function(t){t=isNaN(t)?0:t,this.staggerDelay=t+"ms"},d.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},d.remove=function(){return r&&parseFloat(this.layout.options.transitionDuration)?(this.once("transitionEnd",function(){this.removeElem()}),void this.hide()):void this.removeElem()},d.reveal=function(){delete this.isHidden,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("visibleStyle");e[i]=this.onRevealTransitionEnd,this.transition({from:t.hiddenStyle,to:t.visibleStyle,isCleaning:!0,onTransitionEnd:e})},d.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},d.getHideRevealTransitionEndProperty=function(t){var e=this.layout.options[t];if(e.opacity)return"opacity";for(var i in e)return i},d.hide=function(){this.isHidden=!0,this.css({display:""});var t=this.layout.options,e={},i=this.getHideRevealTransitionEndProperty("hiddenStyle");e[i]=this.onHideTransitionEnd,this.transition({from:t.visibleStyle,to:t.hiddenStyle,isCleaning:!0,onTransitionEnd:e})},d.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},d.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},n}),function(t,e){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["ev-emitter/ev-emitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(i,n,o,s){return e(t,i,n,o,s)}):"object"==typeof module&&module.exports?module.exports=e(t,require("ev-emitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):t.Outlayer=e(t,t.EvEmitter,t.getSize,t.fizzyUIUtils,t.Outlayer.Item)}(window,function(t,e,i,n,o){"use strict";function s(t,e){var i=n.getQueryElement(t);if(!i)return void(u&&u.error("Bad element for "+this.constructor.namespace+": "+(i||t)));this.element=i,h&&(this.$element=h(this.element)),this.options=n.extend({},this.constructor.defaults),this.option(e);var o=++l;this.element.outlayerGUID=o,f[o]=this,this._create();var s=this._getOption("initLayout");s&&this.layout()}function r(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e}function a(t){if("number"==typeof t)return t;var e=t.match(/(^\d*\.?\d*)(\w*)/),i=e&&e[1],n=e&&e[2];if(!i.length)return 0;i=parseFloat(i);var o=m[n]||1;return i*o}var u=t.console,h=t.jQuery,d=function(){},l=0,f={};s.namespace="outlayer",s.Item=o,s.defaults={containerStyle:{position:"relative"},initLayout:!0,originLeft:!0,originTop:!0,resize:!0,resizeContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}};var c=s.prototype;n.extend(c,e.prototype),c.option=function(t){n.extend(this.options,t)},c._getOption=function(t){var e=this.constructor.compatOptions[t];return e&&void 0!==this.options[e]?this.options[e]:this.options[t]},s.compatOptions={initLayout:"isInitLayout",horizontal:"isHorizontal",layoutInstant:"isLayoutInstant",originLeft:"isOriginLeft",originTop:"isOriginTop",resize:"isResizeBound",resizeContainer:"isResizingContainer"},c._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),n.extend(this.element.style,this.options.containerStyle);var t=this._getOption("resize");t&&this.bindResize()},c.reloadItems=function(){this.items=this._itemize(this.element.children)},c._itemize=function(t){for(var e=this._filterFindItemElements(t),i=this.constructor.Item,n=[],o=0;o<e.length;o++){var s=e[o],r=new i(s,this);n.push(r)}return n},c._filterFindItemElements=function(t){return n.filterFindElements(t,this.options.itemSelector)},c.getItemElements=function(){return this.items.map(function(t){return t.element})},c.layout=function(){this._resetLayout(),this._manageStamps();var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},c._init=c.layout,c._resetLayout=function(){this.getSize()},c.getSize=function(){this.size=i(this.element)},c._getMeasurement=function(t,e){var n,o=this.options[t];o?("string"==typeof o?n=this.element.querySelector(o):o instanceof HTMLElement&&(n=o),this[t]=n?i(n)[e]:o):this[t]=0},c.layoutItems=function(t,e){t=this._getItemsForLayout(t),this._layoutItems(t,e),this._postLayout()},c._getItemsForLayout=function(t){return t.filter(function(t){return!t.isIgnored})},c._layoutItems=function(t,e){if(this._emitCompleteOnItems("layout",t),t&&t.length){var i=[];t.forEach(function(t){var n=this._getItemLayoutPosition(t);n.item=t,n.isInstant=e||t.isLayoutInstant,i.push(n)},this),this._processLayoutQueue(i)}},c._getItemLayoutPosition=function(){return{x:0,y:0}},c._processLayoutQueue=function(t){this.updateStagger(),t.forEach(function(t,e){this._positionItem(t.item,t.x,t.y,t.isInstant,e)},this)},c.updateStagger=function(){var t=this.options.stagger;return null===t||void 0===t?void(this.stagger=0):(this.stagger=a(t),this.stagger)},c._positionItem=function(t,e,i,n,o){n?t.goTo(e,i):(t.stagger(o*this.stagger),t.moveTo(e,i))},c._postLayout=function(){this.resizeContainer()},c.resizeContainer=function(){var t=this._getOption("resizeContainer");if(t){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},c._getContainerSize=d,c._setContainerMeasure=function(t,e){if(void 0!==t){var i=this.size;i.isBorderBox&&(t+=e?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),t=Math.max(t,0),this.element.style[e?"width":"height"]=t+"px"}},c._emitCompleteOnItems=function(t,e){function i(){o.dispatchEvent(t+"Complete",null,[e])}function n(){r++,r==s&&i()}var o=this,s=e.length;if(!e||!s)return void i();var r=0;e.forEach(function(e){e.once(t,n)})},c.dispatchEvent=function(t,e,i){var n=e?[e].concat(i):i;if(this.emitEvent(t,n),h)if(this.$element=this.$element||h(this.element),e){var o=h.Event(e);o.type=t,this.$element.trigger(o,i)}else this.$element.trigger(t,i)},c.ignore=function(t){var e=this.getItem(t);e&&(e.isIgnored=!0)},c.unignore=function(t){var e=this.getItem(t);e&&delete e.isIgnored},c.stamp=function(t){t=this._find(t),t&&(this.stamps=this.stamps.concat(t),t.forEach(this.ignore,this))},c.unstamp=function(t){t=this._find(t),t&&t.forEach(function(t){n.removeFrom(this.stamps,t),this.unignore(t)},this)},c._find=function(t){return t?("string"==typeof t&&(t=this.element.querySelectorAll(t)),t=n.makeArray(t)):void 0},c._manageStamps=function(){this.stamps&&this.stamps.length&&(this._getBoundingRect(),this.stamps.forEach(this._manageStamp,this))},c._getBoundingRect=function(){var t=this.element.getBoundingClientRect(),e=this.size;this._boundingRect={left:t.left+e.paddingLeft+e.borderLeftWidth,top:t.top+e.paddingTop+e.borderTopWidth,right:t.right-(e.paddingRight+e.borderRightWidth),bottom:t.bottom-(e.paddingBottom+e.borderBottomWidth)}},c._manageStamp=d,c._getElementOffset=function(t){var e=t.getBoundingClientRect(),n=this._boundingRect,o=i(t),s={left:e.left-n.left-o.marginLeft,top:e.top-n.top-o.marginTop,right:n.right-e.right-o.marginRight,bottom:n.bottom-e.bottom-o.marginBottom};return s},c.handleEvent=n.handleEvent,c.bindResize=function(){t.addEventListener("resize",this),this.isResizeBound=!0},c.unbindResize=function(){t.removeEventListener("resize",this),this.isResizeBound=!1},c.onresize=function(){this.resize()},n.debounceMethod(s,"onresize",100),c.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},c.needsResizeLayout=function(){var t=i(this.element),e=this.size&&t;return e&&t.innerWidth!==this.size.innerWidth},c.addItems=function(t){var e=this._itemize(t);return e.length&&(this.items=this.items.concat(e)),e},c.appended=function(t){var e=this.addItems(t);e.length&&(this.layoutItems(e,!0),this.reveal(e))},c.prepended=function(t){var e=this._itemize(t);if(e.length){var i=this.items.slice(0);this.items=e.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(e,!0),this.reveal(e),this.layoutItems(i)}},c.reveal=function(t){if(this._emitCompleteOnItems("reveal",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.reveal()})}},c.hide=function(t){if(this._emitCompleteOnItems("hide",t),t&&t.length){var e=this.updateStagger();t.forEach(function(t,i){t.stagger(i*e),t.hide()})}},c.revealItemElements=function(t){var e=this.getItems(t);this.reveal(e)},c.hideItemElements=function(t){var e=this.getItems(t);this.hide(e)},c.getItem=function(t){for(var e=0;e<this.items.length;e++){var i=this.items[e];if(i.element==t)return i}},c.getItems=function(t){t=n.makeArray(t);var e=[];return t.forEach(function(t){var i=this.getItem(t);i&&e.push(i)},this),e},c.remove=function(t){var e=this.getItems(t);this._emitCompleteOnItems("remove",e),e&&e.length&&e.forEach(function(t){t.remove(),n.removeFrom(this.items,t)},this)},c.destroy=function(){var t=this.element.style;t.height="",t.position="",t.width="",this.items.forEach(function(t){t.destroy()}),this.unbindResize();var e=this.element.outlayerGUID;delete f[e],delete this.element.outlayerGUID,h&&h.removeData(this.element,this.constructor.namespace)},s.data=function(t){t=n.getQueryElement(t);var e=t&&t.outlayerGUID;return e&&f[e]},s.create=function(t,e){var i=r(s);return i.defaults=n.extend({},s.defaults),n.extend(i.defaults,e),i.compatOptions=n.extend({},s.compatOptions),i.namespace=t,i.data=s.data,i.Item=r(o),n.htmlInit(i,t),h&&h.bridget&&h.bridget(t,i),i};var m={ms:1,s:1e3};return s.Item=o,s}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.Item=e(t.Outlayer))}(window,function(t){"use strict";function e(){t.Item.apply(this,arguments)}var i=e.prototype=Object.create(t.Item.prototype),n=i._create;i._create=function(){this.id=this.layout.itemGUID++,n.call(this),this.sortData={}},i.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var t=this.layout.options.getSortData,e=this.layout._sorters;for(var i in t){var n=e[i];this.sortData[i]=n(this.element,this)}}};var o=i.destroy;return i.destroy=function(){o.apply(this,arguments),this.css({display:""})},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],e):"object"==typeof module&&module.exports?module.exports=e(require("get-size"),require("outlayer")):(t.Isotope=t.Isotope||{},t.Isotope.LayoutMode=e(t.getSize,t.Outlayer))}(window,function(t,e){"use strict";function i(t){this.isotope=t,t&&(this.options=t.options[this.namespace],this.element=t.element,this.items=t.filteredItems,this.size=t.size)}var n=i.prototype,o=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout","_getOption"];return o.forEach(function(t){n[t]=function(){return e.prototype[t].apply(this.isotope,arguments)}}),n.needsVerticalResizeLayout=function(){var e=t(this.isotope.element),i=this.isotope.size&&e;return i&&e.innerHeight!=this.isotope.size.innerHeight},n._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.getRowHeight=function(){this.getSegmentSize("row","Height")},n.getSegmentSize=function(t,e){var i=t+e,n="outer"+e;if(this._getMeasurement(i,n),!this[i]){var o=this.getFirstItemSize();this[i]=o&&o[n]||this.isotope.size["inner"+e]}},n.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},n.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},i.modes={},i.create=function(t,e){function o(){i.apply(this,arguments)}return o.prototype=Object.create(n),o.prototype.constructor=o,e&&(o.options=e),o.prototype.namespace=t,i.modes[t]=o,o},i}),function(t,e){"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],e):"object"==typeof module&&module.exports?module.exports=e(require("outlayer"),require("get-size")):t.Masonry=e(t.Outlayer,t.getSize)}(window,function(t,e){var i=t.create("masonry");return i.compatOptions.fitWidth="isFitWidth",i.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns(),this.colYs=[];for(var t=0;t<this.cols;t++)this.colYs.push(0);this.maxY=0},i.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var t=this.items[0],i=t&&t.element;this.columnWidth=i&&e(i).outerWidth||this.containerWidth}var n=this.columnWidth+=this.gutter,o=this.containerWidth+this.gutter,s=o/n,r=n-o%n,a=r&&1>r?"round":"floor";s=Math[a](s),this.cols=Math.max(s,1)},i.prototype.getContainerWidth=function(){var t=this._getOption("fitWidth"),i=t?this.element.parentNode:this.element,n=e(i);this.containerWidth=n&&n.innerWidth},i.prototype._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth%this.columnWidth,i=e&&1>e?"round":"ceil",n=Math[i](t.size.outerWidth/this.columnWidth);n=Math.min(n,this.cols);for(var o=this._getColGroup(n),s=Math.min.apply(Math,o),r=o.indexOf(s),a={x:this.columnWidth*r,y:s},u=s+t.size.outerHeight,h=this.cols+1-o.length,d=0;h>d;d++)this.colYs[r+d]=u;return a},i.prototype._getColGroup=function(t){if(2>t)return this.colYs;for(var e=[],i=this.cols+1-t,n=0;i>n;n++){var o=this.colYs.slice(n,n+t);e[n]=Math.max.apply(Math,o)}return e},i.prototype._manageStamp=function(t){var i=e(t),n=this._getElementOffset(t),o=this._getOption("originLeft"),s=o?n.left:n.right,r=s+i.outerWidth,a=Math.floor(s/this.columnWidth);a=Math.max(0,a);var u=Math.floor(r/this.columnWidth);u-=r%this.columnWidth?0:1,u=Math.min(this.cols-1,u);for(var h=this._getOption("originTop"),d=(h?n.top:n.bottom)+i.outerHeight,l=a;u>=l;l++)this.colYs[l]=Math.max(d,this.colYs[l])},i.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var t={height:this.maxY};return this._getOption("fitWidth")&&(t.width=this._getContainerFitWidth()),t},i.prototype._getContainerFitWidth=function(){for(var t=0,e=this.cols;--e&&0===this.colYs[e];)t++;return(this.cols-t)*this.columnWidth-this.gutter},i.prototype.needsResizeLayout=function(){var t=this.containerWidth;return this.getContainerWidth(),t!=this.containerWidth},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode"),require("masonry-layout")):e(t.Isotope.LayoutMode,t.Masonry)}(window,function(t,e){"use strict";var i=t.create("masonry"),n=i.prototype,o={_getElementOffset:!0,layout:!0,_getMeasurement:!0};for(var s in e.prototype)o[s]||(n[s]=e.prototype[s]);var r=n.measureColumns;n.measureColumns=function(){this.items=this.isotope.filteredItems,r.call(this)};var a=n._getOption;return n._getOption=function(t){return"fitWidth"==t?void 0!==this.options.isFitWidth?this.options.isFitWidth:this.options.fitWidth:a.apply(this.isotope,arguments)},i}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],e):"object"==typeof exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("fitRows"),i=e.prototype;return i._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},i._getItemLayoutPosition=function(t){t.getSize();var e=t.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&e+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+t.size.outerHeight),this.x+=e,n},i._getContainerSize=function(){return{height:this.maxY}},e}),function(t,e){"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],e):"object"==typeof module&&module.exports?module.exports=e(require("../layout-mode")):e(t.Isotope.LayoutMode)}(window,function(t){"use strict";var e=t.create("vertical",{horizontalAlignment:0}),i=e.prototype;return i._resetLayout=function(){this.y=0},i._getItemLayoutPosition=function(t){t.getSize();var e=(this.isotope.size.innerWidth-t.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=t.size.outerHeight,{x:e,y:i}},i._getContainerSize=function(){return{height:this.y}},e}),function(t,e){"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","desandro-matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(i,n,o,s,r,a){return e(t,i,n,o,s,r,a)}):"object"==typeof module&&module.exports?module.exports=e(t,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("isotope/js/item"),require("isotope/js/layout-mode"),require("isotope/js/layout-modes/masonry"),require("isotope/js/layout-modes/fit-rows"),require("isotope/js/layout-modes/vertical")):t.Isotope=e(t,t.Outlayer,t.getSize,t.matchesSelector,t.fizzyUIUtils,t.Isotope.Item,t.Isotope.LayoutMode)}(window,function(t,e,i,n,o,s,r){function a(t,e){return function(i,n){for(var o=0;o<t.length;o++){var s=t[o],r=i.sortData[s],a=n.sortData[s];if(r>a||a>r){var u=void 0!==e[s]?e[s]:e,h=u?1:-1;return(r>a?1:-1)*h}}return 0}}var u=t.jQuery,h=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^\s+|\s+$/g,"")},d=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});d.Item=s,d.LayoutMode=r;var l=d.prototype;l._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in r.modes)this._initLayoutMode(t)},l.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},l._itemize=function(){for(var t=e.prototype._itemize.apply(this,arguments),i=0;i<t.length;i++){var n=t[i];n.id=this.itemGUID++}return this._updateItemsSortData(t),t},l._initLayoutMode=function(t){var e=r.modes[t],i=this.options[t]||{};this.options[t]=e.options?o.extend(e.options,i):i,this.modes[t]=new e(this)},l.layout=function(){return!this._isLayoutInited&&this._getOption("initLayout")?void this.arrange():void this._layout()},l._layout=function(){var t=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,t),this._isLayoutInited=!0},l.arrange=function(t){this.option(t),this._getIsInstant();var e=this._filter(this.items);this.filteredItems=e.matches,this._bindArrangeComplete(),this._isInstant?this._noTransition(this._hideReveal,[e]):this._hideReveal(e),this._sort(),this._layout()},l._init=l.arrange,l._hideReveal=function(t){this.reveal(t.needReveal),this.hide(t.needHide)},l._getIsInstant=function(){var t=this._getOption("layoutInstant"),e=void 0!==t?t:!this._isLayoutInited;return this._isInstant=e,e},l._bindArrangeComplete=function(){function t(){e&&i&&n&&o.dispatchEvent("arrangeComplete",null,[o.filteredItems])}var e,i,n,o=this;this.once("layoutComplete",function(){e=!0,t()}),this.once("hideComplete",function(){i=!0,t()}),this.once("revealComplete",function(){n=!0,t()})},l._filter=function(t){var e=this.options.filter;e=e||"*";for(var i=[],n=[],o=[],s=this._getFilterTest(e),r=0;r<t.length;r++){var a=t[r];if(!a.isIgnored){var u=s(a);u&&i.push(a),u&&a.isHidden?n.push(a):u||a.isHidden||o.push(a)}}return{matches:i,needReveal:n,needHide:o}},l._getFilterTest=function(t){return u&&this.options.isJQueryFiltering?function(e){return u(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return n(e.element,t)}},l.updateSortData=function(t){var e;t?(t=o.makeArray(t),e=this.getItems(t)):e=this.items,this._getSorters(),this._updateItemsSortData(e)},l._getSorters=function(){var t=this.options.getSortData;for(var e in t){var i=t[e];this._sorters[e]=f(i)}},l._updateItemsSortData=function(t){for(var e=t&&t.length,i=0;e&&e>i;i++){var n=t[i];n.updateSortData()}};var f=function(){function t(t){if("string"!=typeof t)return t;var i=h(t).split(" "),n=i[0],o=n.match(/^\[(.+)\]$/),s=o&&o[1],r=e(s,n),a=d.sortDataParsers[i[1]];return t=a?function(t){return t&&a(r(t))}:function(t){return t&&r(t)}}function e(t,e){return t?function(e){return e.getAttribute(t)}:function(t){var i=t.querySelector(e);return i&&i.textContent}}return t}();d.sortDataParsers={parseInt:function(t){return parseInt(t,10)},parseFloat:function(t){return parseFloat(t)}},l._sort=function(){var t=this.options.sortBy;if(t){var e=[].concat.apply(t,this.sortHistory),i=a(e,this.options.sortAscending);this.filteredItems.sort(i),t!=this.sortHistory[0]&&this.sortHistory.unshift(t)}},l._mode=function(){var t=this.options.layoutMode,e=this.modes[t];if(!e)throw new Error("No layout mode: "+t);return e.options=this.options[t],e},l._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},l._getItemLayoutPosition=function(t){return this._mode()._getItemLayoutPosition(t)},l._manageStamp=function(t){this._mode()._manageStamp(t)},l._getContainerSize=function(){return this._mode()._getContainerSize()},l.needsResizeLayout=function(){return this._mode().needsResizeLayout()},l.appended=function(t){var e=this.addItems(t);if(e.length){var i=this._filterRevealAdded(e);this.filteredItems=this.filteredItems.concat(i)}},l.prepended=function(t){var e=this._itemize(t);if(e.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(e);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=e.concat(this.items)}},l._filterRevealAdded=function(t){var e=this._filter(t);return this.hide(e.needHide),this.reveal(e.matches),this.layoutItems(e.matches,!0),e.matches},l.insert=function(t){var e=this.addItems(t);if(e.length){var i,n,o=e.length;for(i=0;o>i;i++)n=e[i],this.element.appendChild(n.element);var s=this._filter(e).matches;for(i=0;o>i;i++)e[i].isLayoutInstant=!0;for(this.arrange(),i=0;o>i;i++)delete e[i].isLayoutInstant;this.reveal(s)}};var c=l.remove;return l.remove=function(t){t=o.makeArray(t);var e=this.getItems(t);c.call(this,t);for(var i=e&&e.length,n=0;i&&i>n;n++){var s=e[n];o.removeFrom(this.filteredItems,s)}},l.shuffle=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t];e.sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},l._noTransition=function(t,e){var i=this.options.transitionDuration;this.options.transitionDuration=0;var n=t.apply(this,e);return this.options.transitionDuration=i,n},l.getFilteredItemElements=function(){return this.filteredItems.map(function(t){return t.element})},d});function createTicker(){var b=jQuery(".breaking-news ul").children();tickerItems=new Array();b.each(function(a){tickerItems.push(jQuery(this).html())});i=0;rotateTicker()}function rotateTicker(){if(i==tickerItems.length){i=0}
tickerText=tickerItems[i];c=0;typetext();setTimeout("rotateTicker()",5000);i++}
var isInTag=false;function typetext(){var b=tickerText.substr(c,1);if(b=="<"){isInTag=true}
if(b==">"){isInTag=false}
jQuery(".breaking-news ul").html(tickerText.substr(0,c++));if(c<tickerText.length+1){if(isInTag){typetext()}else{setTimeout("typetext()",28)}}else{c=1;tickerText=""}}
function actinave(e){var h=window.location.href;e("#navi a").each(function(){if(this.href===h){var a=e(this).parents("li").children("a").addClass("current")}});e("#navi ul").removeClass("hidden");e("#navi li").hoverTimeout(100,function(){e(this).parent("ul").css("overflow","visible");e(this).children("ul").filter(":not(:animated)").slideDown()},500,function(){e(this).parent("ul").css("overflow","visible");e(this).children("ul").slideUp(800,"easeInExpo")});e("#mobilenav").click(function(){e("#navi").slideToggle();e(this).toggleClass("active");return false});e("#top_mobilenav").click(function(){e("#PageList1 ul").slideToggle();e(this).toggleClass("active");return false});function f(){if(e(window).width()>767){e("#navi").css("display","block").removeClass("suball")}else{if(e(window).width()<=767&&e("#mobilenav").attr("class")==="active"){e("#navi").css("display","block").addClass("suball")}else{if(e(window).width()<=767&&e("#mobilenav").attr("class")!=="active"){e("#navi").css("display","none").addClass("suball")}}}}
function g(){if(e(window).width()>767){e("#PageList1 ul").css("display","block")}else{if(e(window).width()<=767&&e("#top_mobilenav").attr("class")==="active"){e("#PageList1 ul").css("display","block")}else{if(e(window).width()<=767&&e("#top_mobilenav").attr("class")!=="active"){e("#PageList1 ul").css("display","none")}}}}
f();g();e(window).resize(f);e(window).resize(g)}
function seach(a){(function(e){var l={blogURL:"",srcBlank:"",findText:"Search results for keyword",NotfindText:"No result!",Showthumb:true,LoadingText:"Searching...",scrthumbSize:50,summaryLength:100};l=e.extend({},l,a);var b=e("#ajax-search-form"),f=b.find(":text");b.append('<div id="search-result"></div>');var d=e("#search-result");b.on("submit",function(){var g=f.val();d.show().html('<div class="load">'+l.LoadingText+"</div>");e.get((l.blogURL===""?window.location.protocol+"//"+window.location.host:l.blogURL)+"/feeds/posts/summary?alt=json-in-script&q="+g+"&max-results=9999",function(z){var q=z.feed.entry,o,n,h,p,k="";if(q!==undefined){k="<h4>"+l.findText+" &quot;"+g+"&quot;</h4>";k+='<a class="close" href="/">&times;</a><ol>';for(var m=0;m<q.length;m++){var A=new RegExp(g,"ig"),h=q[m].title.$t.replace(A,"<mark>"+g+"</mark>");for(var y=0;y<q[m].link.length;y++){if(q[m].link[y].rel=="alternate"){p=q[m].link[y].href}}
if(l.summaryLength>0){if("content"in q[m]){o=q[m].content.$t}else{if("summary"in q[m]){o=q[m].summary.$t}else{o=""}}
o=o.replace(/<\S[^>]*>/g,"");if(o.length>l.summaryLength){o=o.substring(0,l.summaryLength)+"..."}
o=o.replace(A,"<mark>"+g+"</mark>")}
if(l.Showthumb===true){if("media$thumbnail"in q[m]){n=q[m].media$thumbnail.url.replace(/\/s[0-9]+\-c/g,"/s"+l.scrthumbSize+"-c")}else{n=l.srcBlank}}
k+='<li><a href="'+p+'" >'+(l.Showthumb===true?'<img width="'+l.scrthumbSize+'" height="'+l.scrthumbSize+'" src="'+n+'"/>':"")+"<strong>"+h+"</strong></a>"+(l.summaryLength>0?"<p>"+o+"</p>":"")+"</li>"}
k+="</ol>";d.html(k)}else{d.html('<a class="close" href="/">&times;</a><strong>'+l.NotfindText+"</strong>")}},"jsonp");return false});b.on("click",".close",function(){d.fadeOut();return false})})(jQuery)}
function showrecentposts(A){var w;j=(showRandomImg)?Math.floor((imgr.length+1)*Math.random()):0;img=new Array();for(var o=0;o<A.feed.entry.length;o++){var x=A.feed.entry[o];if(x==undefined)
return;var g=x.title.$t;var r=x.author[0].name.$t;var f;var p;if(o==A.feed.entry.length){break}
for(var l=0;l<x.link.length;l++){if(x.link[l].rel=="alternate"){p=x.link[l].href;break}}
for(var l=0;l<x.link.length;l++){if(x.link[l].rel=="replies"&&x.link[l].type=="text/html"){f=x.link[l].title.split(" ")[0];break}}
if("content"in x){var t=x.content.$t}else{if("summary"in x){var t=x.summary.$t}else{var t=""}}
postdate=x.published.$t;if(j>imgr.length-1){j=0}
img[o]=imgr[j];s=t;a=s.indexOf("<img");b=s.indexOf('src="',a);c=s.indexOf('"',b+5);d=s.substr(b+5,c-b-5);if((a!=-1)&&(b!=-1)&&(c!=-1)&&(d!="")){img[o]=d}
var q=[1,2,3,4,5,6,7,8,9,10,11,12];var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var v=postdate.split("-")[2].substring(0,2);var h=postdate.split("-")[1];var u=postdate.split("-")[0];for(var e=0;e<q.length;e++){if(parseInt(h)==q[e]){h=z[e];break}}
var n=v+" "+h+" "+u;w+='<div class="cat-dark-top"><div><span class="cat-dark-text"><span class="cat-dark-byline">'+n+'</span><h3><a href="'+p+'">'+g+'</a></h3><p>'+removeHtmlTag(t,summaryPosti)+'...</p></span></div></div><div><div><img src="'+img[o]+'" width="280" height="auto" class=""/></div></div>';j++}
return w;}
function recentComments(k){if(k.feed.entry==null||k.feed.entry==false||k.feed.entry==undefined)
return;var w;for(var q=0;q<4;q++){var o=k.feed.entry[q];var u;if(q==k.feed.entry.length){break}
for(var s=0;s<o.link.length;s++){if(o.link[s].rel=="alternate"){u=o.link[s].href;break}}
u=u.replace("#","#comment-");var i=u.split("#");i=i[0];var r=i.split("/");r=r[5];r=r.split(".html");r=r[0];var v=r.replace(/-/g," ");v=v.link(i);if("content"in o){var p=o.content.$t}else{if("summary"in o){var p=o.summary.$t}else{var p=""}}
var n=/<\S[^>]*>>/g;p=p.replace(n,"");if(q==0){w+='<li style="clear:both">';}else{w+='<li style="clear:both">';}
w+='<div style="display:inline;float:left;margin-right:10px;"><img class="align-left" width="35" height="35" src="'+o.author[0].gd$image.src+'"/></div><div style="margin-left:50px;">'+o.author[0].name.$t+" :<br/>  ";if(p.length<70){w+='<a href="'+u+'">'+p+'</a>';}else{p=p.substring(0,70);var t=p.lastIndexOf(" ");p=p.substring(0,t);w+='<a href="'+u+'">'+p+'... </a>';}}
w+='</div></li>';return w;}
function sumposts(json){return json.feed.openSearch$totalResults.$t;}
function numcomments(json){return json.feed.openSearch$totalResults.$t;}
function removeHtmlTag(strx,chop){var s=strx.split("<");for(var i=0;i<s.length;i++){if(s[i].indexOf(">")!=-1){s[i]=s[i].substring(s[i].indexOf(">")+1,s[i].length);}}
s=s.join("");s=s.substring(0,chop-1);return s;}
function showclock(){var digital=new Date();var hours=digital.getHours();var minutes=digital.getMinutes();var seconds=digital.getSeconds();var dn='AM';if(hours>12){dn='PM';hours=hours-12;}
if(hours==0)
hours=12;if(minutes<=9)
minutes='0'+minutes;if(seconds<=9)
seconds='0'+seconds;miReloj='<b><span style="color:#fff;font-size:50px;">'
+hours+'</span> : <span style="color:#fff;font-size:50px;">'
+minutes+'</span> : <span style="color:#fff;font-size:50px;">'
+seconds+'</span></b><span style="color:#fff;font-size:25px;margin-left:5px;">'
+dn+'</span>';document.getElementById('livetime').innerHTML=miReloj;setTimeout('showclock()',1000);}
// Transfer mobile
function a(){var b=window.location.href,c=b.split("?");switch(c.length){case 1:return b+"?m=1";case 2:return 0<=c[1].search("(^|&)m=")?null:b+"&m=1";default:return null}}var d=navigator.userAgent;if(-1!=d.indexOf("Mobile")&&-1!=d.indexOf("WebKit")&&-1==d.indexOf("iPad")||-1!=d.indexOf("Opera Mini")||-1!=d.indexOf("IEMobile")){var e=a();e&&window.location.replace(e)};

// Scroll to top
$(document).ready(function(){var offset=220;var duration=500;jQuery(window).scroll(function(){if(jQuery(this).scrollTop()>offset){jQuery('.back-to-top').fadeIn(duration);}else{jQuery('.back-to-top').fadeOut(duration);}});jQuery('.back-to-top').click(function(event){event.preventDefault();jQuery('html, body').animate({scrollTop:0},duration);return false;});});
// Menu
(function(window){'use strict';function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}var hasClass,addClass,removeClass;if('classList'in document.documentElement){hasClass=function(elem,c){return elem.classList.contains(c)};addClass=function(elem,c){elem.classList.add(c)};removeClass=function(elem,c){elem.classList.remove(c)}}else{hasClass=function(elem,c){return classReg(c).test(elem.className)};addClass=function(elem,c){if(!hasClass(elem,c)){elem.className=elem.className+' '+c}};removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c),' ')}}function toggleClass(elem,c){var fn=hasClass(elem,c)?removeClass:addClass;fn(elem,c)}var classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass};if(typeof define==='function'&&define.amd){define(classie)}else{window.classie=classie}})(window);(function(){function mobilecheck(){var check=false;(function(a){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);return check}function init(){var menu=document.getElementById('bt-menu'),trigger=menu.querySelector('a.bt-menu-trigger'),triggerPlay=document.querySelector('a.bt-menu-trigger-out'),eventtype=mobilecheck()?'touchstart':'click',resetMenu=function(){classie.remove(menu,'bt-menu-open');classie.add(menu,'bt-menu-close')},closeClickFn=function(ev){resetMenu();overlay.removeEventListener(eventtype,closeClickFn)};var overlay=document.createElement('div');overlay.className='bt-overlay';menu.appendChild(overlay);trigger.addEventListener(eventtype,function(ev){ev.stopPropagation();ev.preventDefault();if(classie.has(menu,'bt-menu-open')){resetMenu()}else{classie.remove(menu,'bt-menu-close');classie.add(menu,'bt-menu-open');overlay.addEventListener(eventtype,closeClickFn)}});if(triggerPlay){triggerPlay.addEventListener(eventtype,function(ev){ev.stopPropagation();ev.preventDefault();classie.remove(menu,'bt-menu-close');classie.add(menu,'bt-menu-open');overlay.addEventListener(eventtype,closeClickFn)})}}init()})();

