// Hover time out
!function(n){n.fn.hoverTimeout=function(t,u,e,i){return this.each(function(){var o=null,c=n(this);c.hover(function(){clearTimeout(o),o=setTimeout(function(){u.call(c)},t)},function(){clearTimeout(o),o=setTimeout(function(){i.call(c)},e)})})}}(jQuery);!function(i){i.simpleSpy=function(t,e){var n=this;n.$el=i(t),n.init=function(){n.options=i.extend({},i.simpleSpy.defaultOptions,e);var t=n.$el,s=!0,o=[],p=n.options.limit,a=0,f=t.find("> .items:first").outerHeight(!0),m=t.find("> .items:first").height();t.find("> .items").each(function(){o.push('<div class="items">'+i(this).html()+"</div>")}),a=o.length,t.wrap('<div class="spyWrapper" />').parent().css({height:f*n.options.limit}),t.find("> .items").filter(":gt("+(n.options.limit-1)+")").remove(),t.bind("stop",function(){s=!1}).bind("start",function(){s=!0});var l=function(){if(s){var e=i(o[p]).css({height:0,opacity:0}).prependTo(t);t.find("> .items:last").animate({opacity:0},1e3,function(){e.animate({height:m},1e3).animate({opacity:1},1e3),i(this).remove()}),p++,p>=a&&(p=0)}setTimeout(l,n.options.interval)};l()},n.init()},i.simpleSpy.defaultOptions={limit:4,interval:4e3},i.fn.simpleSpy=function(t){return this.each(function(){new i.simpleSpy(this,t)})}}(jQuery);

!function(e){var t,a;e.fn.metrojs={capabilities:null,checkCapabilities:function(t,a){return(null==e.fn.metrojs.capabilities||"undefined"!=typeof a&&1==a)&&(e.fn.metrojs.capabilities=new e.fn.metrojs.MetroModernizr(t)),e.fn.metrojs.capabilities}},t=e.fn.metrojs,a=99e3,e.fn.liveTile=function(t){var a,i;if(n[t]){for(a=[],i=1;i<=arguments.length;i++)a[i-1]=arguments[i];return n[t].apply(this,a)}return"object"!=typeof t&&t?(e.error("Method "+t+" does not exist on n.liveTile"),null):n.init.apply(this,arguments)},e.fn.liveTile.contentModules={modules:{},addContentModule:function(e,t){"object"!=typeof this.modules&&(this.modules={}),this.modules[e]=t},hasContentModule:function(e){return"undefined"==typeof e||"object"!=typeof this.modules?!1:"undefined"!=typeof this.modules[e]}},e.fn.liveTile.defaults={mode:"slide",speed:500,initDelay:-1,delay:5e3,stops:"100%",stack:!1,direction:"vertical",animationDirection:"forward",tileSelector:">div,>li,>p,>img,>a",tileFaceSelector:">div,>li,>p,>img,>a",ignoreDataAttributes:!1,click:null,link:"",newWindow:!1,bounce:!1,pauseOnHover:!1,playOnHover:!1,repeatCount:-1,appendBack:!0,alwaysTrigger:!1,flipListOnHover:!1,currentIndex:0,startNow:!0,useModernizr:"undefined"!=typeof window.Modernizr,useHardwareAccel:!0,faces:{$front:null,$back:null},animationComplete:function(){},triggerDelay:function(){return 3e3*Math.random()},swap:"",swapFront:"-",swapBack:"-",contentModules:[]};var n={init:function(a){var n={};return e.extend(n,e.fn.liveTile.defaults,a),t.checkCapabilities(n),e.fn.liveTile.contentModules.hasContentModule("image")||e.fn.liveTile.contentModules.addContentModule("image",r.imageSwap),e.fn.liveTile.contentModules.hasContentModule("html")||e.fn.liveTile.contentModules.addContentModule("html",r.htmlSwap),e(this).each(function(a,o){var r=e(o),s=i.initTileData(r,n);s.faces=i.prepTile(r,s),s.doAction=function(e){var t=null;switch(s.mode){case"slide":t=s.slide,s.loopCount=e;break;case"carousel":t=s.carousel,s.loopCount=e;break;case"flip":t=s.flip,s.loopCount=e;break;case"flip-list":t=s.flipList,s.loopCount=e}"function"==typeof t&&(t(e),s.hasRun=!0),e==s.timer.repeatCount&&(s.runEvents=!1)},s.slide=function(e){i.slide(r,e)},s.carousel=function(e){i.carousel(r,e)},s.flip=function(e){i.flip(r,e)},s.flipList=function(e){i.flipList(r,e)},s.timer=new e.fn.metrojs.TileTimer(s.delay,s.doAction,s.repeatCount),r.data("LiveTile",s),("flip-list"!==s.mode||0==s.flipListOnHover)&&(s.pauseOnHover?i.bindPauseOnHover(r):s.playOnHover&&i.bindPlayOnHover(r)),(s.link.length>0||"function"==typeof s.click)&&r.css({cursor:"pointer"}).bind("click.liveTile",function(){var e=!0;"function"==typeof s.click&&(e=s.click(r,s)||!1),e&&s.link.length>0&&(s.newWindow?window.open(s.link):window.location=s.link)}),s.useHardwareAccel&&t.capabilities.canTransition&&i.bindBounce(r,s),s.startNow&&"none"!=s.mode&&(s.runEvents=!0,s.timer.start(s.initDelay))})},"goto":function(t){var a,n,i=typeof t;if("number"!==i&&isNaN(t))if("string"===i)if("next"==t)a={index:-99,delay:0};else{if(0!==t.indexOf("prev"))return void e.error(t+' is not a recognized action for .liveTile("goto")');a={index:-100,delay:0}}else"object"===i&&("undefined"==typeof t.delay&&(t.delay=0),n=typeof t.index,"undefined"===n?t.index=0:"string"===n&&("next"===t.index?t.index=-99:0===t.index.indexOf("prev")&&(t.index=-100)),a=t);else a={index:parseInt(t,10),delay:0};return e(this).each(function(t,n){var i,o=e(n),r=o.data("LiveTile"),s=o.data("metrojs.tile"),l=a.index;if(s.animating!==!0){if("carousel"===r.mode){if(i=r.faces.$listTiles.filter(".active").index(),-100===l?(r.tempValues.animationDirection="undefined"==typeof a.animationDirection?"backward":a.animationDirection,l=0===i?r.faces.$listTiles.length-1:i-1):-99===l&&(r.tempValues.animationDirection="undefined"==typeof a.animationDirection?"forward":a.animationDirection,l=i+1),i==l)return;r.currentIndex=0==l?r.faces.$listTiles.length:l-1}else r.currentIndex=l;r.runEvents=!0,r.timer.start(a.delay>=0?a.delay:r.delay)}})},play:function(t){var a,n=typeof t;return"undefined"===n?a={delay:-1}:"number"===n?a={delay:t}:"object"===n&&("undefined"==typeof t.delay&&(t.delay=-1),a=t),e(this).each(function(t,n){var i=e(n),o=i.data("LiveTile");o.runEvents=!0,a.delay<0&&!o.hasRun&&(a.delay=o.initDelay),o.timer.start(a.delay>=0?a.delay:o.delay)})},animate:function(){return e(this).each(function(t,a){var n=e(a),i=n.data("LiveTile");i.doAction()})},stop:function(){return e(this).each(function(t,a){var n=e(a),i=n.data("LiveTile");i.hasRun=!1,i.runEvents=!1,i.timer.stop(),window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout),"flip-list"===i.mode&&(window.clearTimeout(i.completeTimeout),i.faces.$listTiles.each(function(t,a){var n=e(a).data("metrojs.tile");window.clearTimeout(n.eventTimeout),window.clearTimeout(n.flCompleteTimeout),window.clearTimeout(n.completeTimeout)}))})},pause:function(){return e(this).each(function(t,a){var n=e(a),i=n.data("LiveTile");i.timer.pause(),i.runEvents=!1,window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout),"flip-list"===i.mode&&i.faces.$listTiles.each(function(t,a){var n=e(a).data("metrojs.tile");window.clearTimeout(n.eventTimeout),window.clearTimeout(n.flCompleteTimeout),window.clearTimeout(n.completeTimeout)})})},restart:function(t){var a,n=typeof t;return"undefined"===n?a={delay:-1}:"number"===n?a={delay:t}:"object"===n&&("undefined"==typeof t.delay&&(t.delay=-1),a=t),e(this).each(function(t,n){var i=e(n),o=i.data("LiveTile");a.delay<0&&!o.hasRun&&(a.delay=o.initDelay),o.hasRun=!1,o.runEvents=!0,o.timer.restart(a.delay>=0?a.delay:o.delay)})},rebind:function(t){return e(this).each(function(a,i){e(i);"undefined"!=typeof t?("undefined"!=typeof t.timer&&null!=t.timer&&t.timer.stop(),t.hasRun=!1,n.init.apply(i,t)):n.init.apply(i,{})})},destroy:function(t){var a,n=typeof t;return"undefined"===n?a={removeCss:!1}:"boolean"===n?a={removeCss:option}:"object"===n&&("undefined"==typeof t.removeCss&&(t.removeCss=!1),a=t),e(this).each(function(t,n){var o=e(n),r=o.data("LiveTile");o.unbind(".liveTile"),i.unbindMsBounce(o,r),r.timer.stop(),window.clearTimeout(r.eventTimeout),window.clearTimeout(r.flCompleteTimeout),window.clearTimeout(r.completeTimeout),null!=r.faces.$listTiles&&r.faces.$listTiles.each(function(t,n){var i,o=e(n);"flip-list"===r.mode&&(i=o.data("metrojs.tile"),window.clearTimeout(i.eventTimeout),window.clearTimeout(i.flCompleteTimeout),window.clearTimeout(i.completeTimeout)),a.removeCss?(o.removeClass("ha"),o.find(r.tileFaceSelector).unbind(".liveTile").removeClass("bounce flip-front flip-back ha slide slide-front slide-back").css({transform:"",transition:"",margin:"",cursor:""})):o.find(r.tileFaceSelector).unbind(".liveTile"),o.removeData("metrojs.tile")}).unbind(".liveTile"),null!=r.faces.$front&&a.removeCss&&r.faces.$front.removeClass("flip-front flip-back ha slide slide-front slide-back").css({transform:"",transition:""}),null!=r.faces.$back&&a.removeCss&&r.faces.$back.removeClass("flip-front flip-back ha slide slide-front slide-back").css({transform:"",transition:"",margin:"",cursor:""}),o.removeClass("ha"),o.removeData("LiveTile"),o.removeData("metrojs.tile"),r=null})}},i={getDataOrDefault:function(e,t,a){return"undefined"!=typeof e.data(t)?e.data(t):a},initTileData:function(t,a){var n,o,r,s,l=!a.ignoreDataAttributes,c={speed:l?this.getDataOrDefault(t,"speed",a.speed):a.speed,delay:l?this.getDataOrDefault(t,"delay",a.delay):a.delay,stops:l?this.getDataOrDefault(t,"stops",a.stops):a.stops,stack:l?this.getDataOrDefault(t,"stack",a.stack):a.stack,mode:l?this.getDataOrDefault(t,"mode",a.mode):a.mode,direction:l?this.getDataOrDefault(t,"direction",a.direction):a.direction,useHardwareAccel:l?this.getDataOrDefault(t,"ha",a.useHardwareAccel):a.useHardwareAccel,repeatCount:l?this.getDataOrDefault(t,"repeat",a.repeatCount):a.repeatCount,swap:l?this.getDataOrDefault(t,"swap",a.swap):a.swap,appendBack:l?this.getDataOrDefault(t,"appendback",a.appendBack):a.appendBack,currentIndex:l?this.getDataOrDefault(t,"start-index",a.currentIndex):a.currentIndex,animationDirection:l?this.getDataOrDefault(t,"slide-direction",a.animationDirection):a.animationDirection,startNow:l?this.getDataOrDefault(t,"start-now",a.startNow):a.startNow,tileSelector:l?this.getDataOrDefault(t,"tile-selector",a.tileSelector):a.tileSelector,tileFaceSelector:l?this.getDataOrDefault(t,"face-selector",a.tileFaceSelector):a.tileFaceSelector,bounce:l?this.getDataOrDefault(t,"bounce",a.bounce):a.bounce,link:l?this.getDataOrDefault(t,"link",a.link):a.link,newWindow:l?this.getDataOrDefault(t,"new-window",a.newWindow):a.newWindow,alwaysTrigger:l?this.getDataOrDefault(t,"always-trigger",a.alwaysTrigger):a.alwaysTrigger,flipListOnHover:l?this.getDataOrDefault(t,"flip-onhover",a.flipListOnHover):a.flipListOnHover,pauseOnHover:l?this.getDataOrDefault(t,"pause-onhover",a.pauseOnHover):a.pauseOnHover,playOnHover:l?this.getDataOrDefault(t,"play-onhover",a.playOnHover):a.playOnHover,runEvents:!1,isReversed:!1,loopCount:0,contentModules:{},listData:[],height:t.height(),width:t.width(),tempValues:{}};c.margin="vertical"===c.direction?c.height/2:c.width/2,c.stops="object"==typeof a.stops&&a.stops instanceof Array?a.stops:(""+c.stops).split(","),1===c.stops.length&&c.stops.push("0px");var d=c.swap.replace(" ","").split(","),m=l?this.getDataOrDefault(t,"swap-front",a.swapFront):a.swapFront,p=l?this.getDataOrDefault(t,"swap-back",a.swapBack):a.swapBack;for(c.swapFront="-"===m?d:m.replace(" ","").split(","),c.swapBack="-"===p?d:p.replace(" ","").split(","),n=0;n<c.swapFront.length;n++)c.swapFront[n].length>0&&-1===e.inArray(c.swapFront[n],d)&&d.push(c.swapFront[n]);for(n=0;n<c.swapBack.length;n++)c.swapBack[n].length>0&&-1===e.inArray(c.swapBack[n],d)&&d.push(c.swapBack[n]);for(c.swap=d,n=0;n<d.length;n++)d[n].length>0&&"undefined"!=typeof e.fn.liveTile.contentModules.modules[d[n]]&&(c.contentModules[d[n]]=e.fn.liveTile.contentModules.modules[d[n]]);c.initDelay=l?this.getDataOrDefault(t,"initdelay",a.initDelay):a.initDelay,c.delay<-1?c.delay=a.triggerDelay(1):c.delay<0&&(c.delay=3500+4501*Math.random()),c.initDelay<0&&(c.initDelay=c.delay),o={};for(r in c.contentModules)e.extend(o,c.contentModules[r].data);e.extend(o,a,c),"flip-list"===o.mode?(s=t.find(o.tileSelector).not(".tile-title"),s.each(function(t,a){var n=e(a),r={direction:l?i.getDataOrDefault(n,"direction",o.direction):o.direction,link:l?i.getDataOrDefault(n,"link",""):"",faces:{$front:null,$back:null},height:n.height(),width:n.width(),isReversed:!1};r.margin="vertical"===r.direction?r.height/2:r.width/2,o.listData.push(r)})):"carousel"===o.mode&&(o.stack=!0,s=t.find(o.tileSelector).not(".tile-title"),s.each(function(t,a){var n=e(a),r={bounce:l?i.getDataOrDefault(n,"bounce",!1):!1,link:l?i.getDataOrDefault(n,"link",""):"",newWindow:l?i.getDataOrDefault(n,"new-window",""):""};o.listData.push(r)}));for(r in o.contentModules)"function"==typeof o.contentModules[r].initData&&o.contentModules[r].initData(o,t);return c=null,o},prepTile:function(n,r){var s,l,c,d,m,p;switch(n.addClass(r.mode),s={$tileFaces:null,$listTiles:null,$front:null,$back:null},r.mode){case"slide":s.$tileFaces=n.find(r.tileFaceSelector).not(".tile-title"),s.$front=null!=r.faces.$front&&r.faces.$front.length>0?r.faces.$front.addClass("slide-front"):s.$tileFaces.first().addClass("slide-front"),s.$back=null!=r.faces.$back&&r.faces.$back.length>0?r.faces.$back.addClass("slide-back"):s.$tileFaces.length>1?s.$tileFaces.last().addClass("slide-back"):r.appendBack?e('<div class="slide-back"></div>').appendTo(n):e("<div></div>"),1==r.stack&&("vertical"===r.direction?s.$back.css({top:-r.height+"px"}):s.$back.css({left:-r.width+"px"})),n.data("metrojs.tile",{animating:!1}),t.capabilities.canTransition&&r.useHardwareAccel&&(n.addClass("ha"),s.$front.addClass("ha"),s.$back.addClass("ha"));break;case"carousel":s.$listTiles=n.find(r.tileSelector).not(".tile-title"),p=s.$listTiles.length,n.data("metrojs.tile",{animating:!1}),r.currentIndex=Math.min(r.currentIndex,p-1),s.$listTiles.each(function(a,n){var o=e(n).addClass("slide"),s=r.listData[a];a==r.currentIndex?o.addClass("active"):"forward"===r.animationDirection?"vertical"===r.direction?o.css({top:r.height+"px"}):o.css({left:r.width+"px"}):"backward"===r.animationDirection&&("vertical"===r.direction?o.css({top:-r.height+"px"}):o.css({left:-r.width+"px"})),i.bindLink(o,s),r.useHardwareAccel&&t.capabilities.canTransition&&i.bindBounce(o,s),o=null,s=null}),t.capabilities.canFlip3d&&r.useHardwareAccel&&(n.addClass("ha"),s.$listTiles.addClass("ha"));break;case"flip-list":s.$listTiles=n.find(r.tileSelector).not(".tile-title"),s.$listTiles.each(function(n,s){var p,u,f,h=e(s).addClass("tile-"+(n+1)),g=h.find(r.tileFaceSelector).first().addClass("flip-front").css({margin:"0px"});1===h.find(r.tileFaceSelector).length&&1==r.appendBack&&h.append("<div></div>"),p=h.find(r.tileFaceSelector).last().addClass("flip-back").css({margin:"0px"}),r.listData[n].faces.$front=g,r.listData[n].faces.$back=p,h.data("metrojs.tile",{animating:!1,count:1,completeTimeout:null,flCompleteTimeout:null,index:n}),u=h.data("metrojs.tile"),t.capabilities.canFlip3d&&r.useHardwareAccel?(h.addClass("ha"),g.addClass("ha"),p.addClass("ha"),l="vertical"===r.listData[n].direction?"rotateX(180deg)":"rotateY(180deg)",c=o.appendStyleProperties({},["transform"],[l]),p.css(c)):(d="vertical"===r.listData[n].direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},m="vertical"===r.listData[n].direction?{height:"0px",width:"100%",marginTop:r.listData[n].margin+"px",opacity:"0"}:{height:"100%",width:"0px",marginLeft:r.listData[n].margin+"px",opacity:"0"},g.css(d),p.css(m)),f=function(){u.count++,u.count>=a&&(u.count=1)},r.flipListOnHover?(g.bind("mouseout.liveTile",function(){r.runEvents&&i.flip(h,u.count,r,f)}),p.bind("mouseout.liveTile",function(){r.runEvents&&i.flip(h,u.count,r,f)})):r.listData[n].link.length>0&&h.css({cursor:"pointer"}).bind("click.liveTile",function(){window.location=r.listData[n].link})});break;case"flip":s.$tileFaces=n.find(r.tileFaceSelector).not(".tile-title"),s.$front=null!=r.faces.$front&&r.faces.$front.length>0?r.faces.$front.addClass("flip-front"):s.$tileFaces.first().addClass("flip-front"),s.$back=null!=r.faces.$back&&r.faces.$back.length>0?r.faces.$back.addClass("flip-back"):s.$tileFaces.length>1?s.$tileFaces.last().addClass("flip-back"):r.appendBack?e('<div class="flip-back"></div>').appendTo(n):e("<div></div>"),n.data("metrojs.tile",{animating:!1}),t.capabilities.canFlip3d&&r.useHardwareAccel?(n.addClass("ha"),s.$front.addClass("ha"),s.$back.addClass("ha"),l="vertical"===r.direction?"rotateX(180deg)":"rotateY(180deg)",c=o.appendStyleProperties({},["transform"],[l]),s.$back.css(c)):(d="vertical"===r.direction?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"},m="vertical"===r.direction?{height:"0px",width:r.width+"px",marginTop:r.margin+"px",opacity:"0"}:{height:r.height+"px",width:"0px",marginLeft:r.margin+"px",opacity:"0"},s.$front.css(d),s.$back.css(m))}return s},bindPauseOnHover:function(a){function n(){r||o.runEvents&&(o.timer.pause(),r=!0,"flip-list"===o.mode&&o.faces.$listTiles.each(function(t,a){window.clearTimeout(e(a).data("metrojs.tile").completeTimeout)}))}function i(){r&&(o.runEvents&&o.timer.start(o.hasRun?o.delay:o.initDelay),r=!1)}var o=a.data("LiveTile"),r=!1;t.capabilities.canTouch?window.navigator.msPointerEnabled?(a[0].addEventListener("MSPointerOver",n,!1),a[0].addEventListener("MSPointerOut",i,!1)):(a.bind("touchstart.liveTile",n),a.bind("touchend.liveTile",i)):(a.bind("mouseover.liveTile",n),a.bind("mouseout.liveTile",i))},bindPlayOnHover:function(e){function a(){if(!r){var t=o.startNow?!o.isReversed:o.isReversed;window.clearTimeout(o.eventTimeout),(o.runEvents&&t||!o.hasRun)&&(r=!0,n.play.apply(e[0],[0]))}}function i(){r&&(window.clearTimeout(o.eventTimeout),o.eventTimeout=window.setTimeout(function(){var t=o.startNow?o.isReversed:!o.isReversed;o.runEvents&&t&&n.play.apply(e[0],[0]),r=!1},o.speed))}var o=e.data("LiveTile"),r=!1;e.addClass("noselect"),t.capabilities.canTouch?window.navigator.msPointerEnabled?(e[0].addEventListener("MSPointerDown",a,!1),e.bind("mouseleave.liveTile",i)):(e.bind("touchstart.liveTile",a),e.bind("touchend.liveTile",i)):e.bind({"mouseenter.liveTile":function(e){a(e)},"mouseleave.liveTile":function(e){i(e)}})},bindBounce:function(e,t){if(t.bounce){o.appendStyleProperties({},["TransitionProperty","TransitionDuration"],["scale","200ms"]);e.addClass("bounce"),function(){function t(t){r={x:t.pageX,y:t.pageY},e.addClass("bounce-dwn"),i=!0}function a(){i===!0&&n()}function n(){e.removeClass("bounce-dwn"),i=!1,r=o}var i=!1,o={x:0,y:0},r=o;window.navigator.msPointerEnabled?(e[0].addEventListener("MSPointerDown",t,!1),e[0].addEventListener("MSPointerCancel",a,!1),e[0].addEventListener("MSPointerOut",a,!1),e[0].addEventListener("MSPointerUp",a,!1)):(e.bind("mousedown.liveTile touchstart.liveTile",t),e.bind("mouseup.liveTile touchend.liveTile, mouseout.liveTile touchcancel.liveTile",a))}()}},unbindMsBounce:function(e,t){t.bounce&&window.navigator.msPointerEnabled&&(e[0].removeEventListener("MSPointerDown",bounceDown,!1),e[0].removeEventListener("MSPointerCancel",bounceUp,!1),e[0].removeEventListener("MSPointerOut",bounceUp,!1))},bindLink:function(e,t){t.link.length>0&&e.css({cursor:"pointer"}).bind("click.liveTile",function(){t.newWindow?window.open(t.link):window.location=t.link})},slide:function(a,n,i,r,s){var l="undefined"==typeof i?a.data("LiveTile"):i,c=a.data("metrojs.tile");if(1==c.animating||a.is(":animated"))return l=null,void(c=null);l.isReversed="carousel"!==l.mode?n%2==0:!0,l.timer.pause();var d={},m={},p="undefined"==typeof r?l.currentIndex:r,u=e.trim(l.stops[Math.min(p,l.stops.length-1)]),f=u.indexOf("px"),h=0,g=0,w="vertical"===l.direction?l.height:l.width,v="vertical"===l.direction?"top":"left",b=function(){"undefined"==typeof s?(l.currentIndex=l.currentIndex+1,l.currentIndex>l.stops.length-1&&(l.currentIndex=0)):s();for(var e in l.contentModules)l.contentModules[e].action(l,l.faces.$front,l.faces.$back,l.currentIndex);l.animationComplete(l,l.faces.$front,l.faces.$back),(l.timer.repeatCount>0||-1==l.timer.repeatCount)&&l.timer.count!=l.timer.repeatCount&&l.timer.start(l.delay),l=null,c=null};if(f>0?(g=parseInt(u.substring(0,f),10),h=g-w+"px"):(g=parseInt(u.replace("%",""),10),h=g-100+"%"),t.capabilities.canTransition&&l.useHardwareAccel){if("undefined"!=typeof c.animating&&1==c.animating)return;c.animating=!0,d=o.appendStyleProperties(d,["TransitionProperty","TransitionDuration"],[v,l.speed+"ms"]),"vertical"===l.direction?d.top=u:d.left=u,l.faces.$front.css(d),1==l.stack&&("vertical"===l.direction?d.top=h:d.left=h,l.faces.$back.css(d)),window.clearTimeout(l.completeTimeout),l.completeTimeout=window.setTimeout(function(){c.animating=!1,b()},l.speed)}else d[v]=u,m[v]=h,c.animating=!0,l.faces.$front.stop().animate(d,l.speed,"linear",function(){c.animating=!1,b()}),1==l.stack&&l.faces.$back.stop().animate(m,l.speed,"linear",function(){})},carousel:function(e,t){var a,n,r,s=e.data("LiveTile"),l=e.data("metrojs.tile");if(1==l.animating||s.faces.$listTiles.length<=1)return void(l=null);s.timer.pause();var c=s.faces.$listTiles.filter(".active"),d=c.index(),m=Math.max(s.currentIndex,0),p=m!=d?m:d,u=p+1>=s.faces.$listTiles.length?0:p+1;return d==u?(l=null,void(c=null)):(a="string"==typeof s.tempValues.animationDirection&&s.tempValues.animationDirection.length>0?s.tempValues.animationDirection:s.animationDirection,s.tempValues.animationDirection=null,n=s.faces.$listTiles.eq(u),r=o.appendStyleProperties({},["TransitionDuration"],["0s"]),"backward"===a?("vertical"===s.direction?r.top="-100%":r.left="-100%",s.faces.$front=c,s.faces.$back=n,s.stops=["100%"]):("vertical"===s.direction?r.top="100%":r.left="100%",s.faces.$front=n,s.faces.$back=c,s.stops=["0px"]),n.css(r),window.setTimeout(function(){(s.timer.repeatCount>0||-1==s.timer.repeatCount)&&s.timer.count!=s.timer.repeatCount&&s.timer.start(s.delay),i.slide(e,t,s,0,function(){c.css(r).removeClass("active"),n.addClass("active"),s.currentIndex=u,l=null,c=null,n=null})},200),void 0)},flip:function(e,a,n,i){var r,s=e.data("metrojs.tile");if(1==s.animating)return void(anidata=null);var l,c,d,m,p,u,f="object"==typeof n?n:e.data("LiveTile"),h="undefined"==typeof i,g=0,w=a%2==0;if("flip-list"===f.mode?(g=s.index,l=f.listData[g].faces.$front,c=f.listData[g].faces.$back,f.listData[g].isReversed=w,d=f.listData[g].direction,height=f.listData[g].height,width=f.listData[g].width,margin=f.listData[g].margin):(l=f.faces.$front,c=f.faces.$back,f.isReversed=w,d=f.direction,height=f.height,width=f.width,margin=f.margin),t.capabilities.canFlip3d&&f.useHardwareAccel){m=w?"360deg":"180deg",p="vertical"===d?"rotateX("+m+")":"rotateY("+m+")",u=o.appendStyleProperties({},["transform","transition"],[p,"all "+f.speed+"ms ease 0s"]);var v=w?"540deg":"360deg",b="vertical"===d?"rotateX("+v+")":"rotateY("+v+")",S=o.appendStyleProperties({},["transform","transition"],[b,"all "+f.speed+"ms ease 0s"]);l.css(u),c.css(S),r=function(){s.animating=!1;var e,t,a;if(w){e="vertical"===d?"rotateX(0deg)":"rotateY(0deg)",t=o.appendStyleProperties({},["transform","transition"],[e,"all 0s ease 0s"]),l.css(t);for(a in f.contentModules)f.contentModules[a].action(f,l,c,g);h?f.animationComplete(f,l,c):i(f,l,c),l=null,c=null,f=null,s=null}else{for(a in f.contentModules)f.contentModules[a].action(f,c,l,g);h?f.animationComplete(f,c,l):i(f,c,l)}},"flip-list"===f.mode?(window.clearTimeout(f.listData[g].completeTimeout),f.listData[g].completeTimeout=window.setTimeout(r,f.speed)):(window.clearTimeout(f.completeTimeout),f.completeTimeout=window.setTimeout(r,f.speed))}else{var k,T=f.speed/2,I="vertical"===d?{height:"0px",width:"100%",marginTop:margin+"px",opacity:"0"}:{height:"100%",width:"0px",marginLeft:margin+"px",opacity:"0"},y="vertical"===d?{height:"100%",width:"100%",marginTop:"0px",opacity:"1"}:{height:"100%",width:"100%",marginLeft:"0px",opacity:"1"};w?(s.animating=!0,c.stop().animate(I,{duration:T}),k=function(){s.animating=!1,l.stop().animate(y,{duration:T,complete:function(){for(var e in f.contentModules)f.contentModules[e].action(f,l,c,g);h?f.animationComplete(f,l,c):i(f,l,c),s=null,l=null,c=null}})},"flip-list"===f.mode?(window.clearTimeout(f.listData[s.index].completeTimeout),f.listData[s.index].completeTimeout=window.setTimeout(k,T)):(window.clearTimeout(f.completeTimeout),f.completeTimeout=window.setTimeout(k,T))):(s.animating=!0,l.stop().animate(I,{duration:T}),k=function(){s.animating=!1,c.stop().animate(y,{duration:T,complete:function(){for(var e in f.contentModules)f.contentModules[e].action(f,c,l,g);h?f.animationComplete(f,c,l):i(f,c,l),l=null,c=null,f=null,s=null}})},"flip-list"===f.mode?(window.clearTimeout(f.listData[s.index].completeTimeout),f.listData[s.index].completeTimeout=window.setTimeout(k,T)):(window.clearTimeout(f.completeTimeout),f.completeTimeout=window.setTimeout(k,T)))}},flipList:function(t){var n=t.data("LiveTile"),o=n.speed,r=!1;n.timer.pause(),n.faces.$listTiles.each(function(t,s){var l=e(s),c=l.data("metrojs.tile"),d=n.triggerDelay(t),m=n.speed+Math.max(d,0),p=n.alwaysTrigger;p||(p=351*Math.random()>150?!0:!1),p&&(r=!0,o=Math.max(m+n.speed,o),window.clearTimeout(c.flCompleteTimeout),c.flCompleteTimeout=window.setTimeout(function(){i.flip(l,c.count,n,function(){c.count++,c.count>=a&&(c.count=1),l=null,c=null})},m))}),r&&(window.clearTimeout(n.flCompleteTimeout),n.flCompleteTimeout=window.setTimeout(function(){for(var e in n.contentModules)n.contentModules[e].action(n,null,null,-1);n.animationComplete(n,null,null),(n.timer.repeatCount>0||-1==n.timer.repeatCount)&&n.timer.count!=n.timer.repeatCount&&n.timer.start(n.delay)},o+n.speed))}},o={stylePrefixes:"Webkit Moz O ms Khtml ".split(" "),domPrefixes:"-webkit- -moz- -o- -ms- -khtml- ".split(" "),appendStyleProperties:function(t,a,n){for(var i,o=0;o<=a.length-1;o++)for(i=0;i<=this.stylePrefixes.length-1;i++)t[e.trim(this.domPrefixes[i]+a[o])]=n[o];return t},shuffleArray:function(e){for(var t=[];e.length;)t.push(e.splice(Math.random()*e.length,1));for(;t.length;)e.push(t.pop());return e}},r={htmlSwap:{data:{frontContent:[],frontIsRandom:!0,frontIsInGrid:!1,backContent:[],backIsRandom:!0,backIsInGrid:!1},initData:function(t,a){var n={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,prevBackIndex:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevFrontIndex:-1};n.frontIsRandom=t.ignoreDataAttributes?t.frontIsRandom:i.getDataOrDefault(a,"front-israndom",t.frontIsRandom),n.frontIsInGrid=t.ignoreDataAttributes?t.frontIsInGrid:i.getDataOrDefault(a,"front-isingrid",t.frontIsInGrid),n.backIsRandom=t.ignoreDataAttributes?t.backIsRandom:i.getDataOrDefault(a,"back-israndom",t.backIsRandom),n.backIsInGrid=t.ignoreDataAttributes?t.backIsInGrid:i.getDataOrDefault(a,"back-isingrid",t.backIsInGrid),n.doSwapFront=e.inArray("html",t.swapFront)>-1&&t.frontContent instanceof Array&&t.frontContent.length>0,n.doSwapBack=e.inArray("html",t.swapBack)>-1&&t.backContent instanceof Array&&t.backContent.length>0,t.htmlSwap="undefined"!=typeof t.htmlSwap?e.extend(n,t.htmlSwap):n,t.htmlSwap.doSwapFront&&(t.htmlSwap.frontBag=this.prepBag(t.htmlSwap.frontBag,t.frontContent,t.htmlSwap.prevFrontIndex),t.htmlSwap.frontStaticRndm=t.htmlSwap.frontBag.pop()),t.htmlSwap.doSwapBack&&(t.htmlSwap.backBag=this.prepBag(t.htmlSwap.backBag,t.backContent,t.htmlSwap.prevBackIndex),t.htmlSwap.backStaticRndm=t.htmlSwap.backBag.pop())},prepBag:function(e,t,a){var n,i;for(e=[],n=0,i=0;i<t.length;i++)(i!=a||1===e.length)&&(e[n]=i,n++);return o.shuffleArray(e)},getFrontSwapIndex:function(e){var t=0;return e.htmlSwap.frontIsRandom?(0===e.htmlSwap.frontBag.length&&(e.htmlSwap.frontBag=this.prepBag(e.htmlSwap.frontBag,e.frontContent,e.htmlSwap.prevFrontIndex)),t=e.htmlSwap.frontIsInGrid?e.htmlSwap.frontStaticRndm:e.htmlSwap.frontBag.pop()):t=e.htmlSwap.frontIsInGrid?e.htmlSwap.frontStaticIndex:e.htmlSwap.frontIndex,t},getBackSwapIndex:function(e){var t=0;return e.htmlSwap.backIsRandom?(0===e.htmlSwap.backBag.length&&(e.htmlSwap.backBag=this.prepBag(e.htmlSwap.backBag,e.backContent,e.htmlSwap.prevBackIndex)),t=e.htmlSwap.backIsInGrid?e.htmlSwap.backStaticRndm:e.htmlSwap.backBag.pop()):t=e.htmlSwap.backIsInGrid?e.htmlSwap.backStaticIndex:e.htmlSwap.backIndex,t},action:function(e,t,a,n){if(e.htmlSwap.doSwapFront||e.htmlSwap.doSwapBack){var i="flip-list"===e.mode,o=0,r=i?e.listData[Math.max(n,0)].isReversed:e.isReversed;if(i&&-1==n)return void(r?e.htmlSwap.doSwapBack&&(0===e.htmlSwap.backBag.length&&(e.htmlSwap.backBag=this.prepBag(e.htmlSwap.backBag,e.backContent,e.htmlSwap.backStaticRndm)),e.htmlSwap.backStaticRndm=e.htmlSwap.backBag.pop(),e.htmlSwap.backStaticIndex++,e.htmlSwap.backStaticIndex>=e.backContent.length&&(e.htmlSwap.backStaticIndex=0)):e.htmlSwap.doSwapFront&&(0===e.htmlSwap.frontBag.length&&(e.htmlSwap.frontBag=this.prepBag(e.htmlSwap.frontBag,e.frontContent,e.htmlSwap.frontStaticRndm)),e.htmlSwap.frontStaticRndm=e.htmlSwap.frontBag.pop(),e.htmlSwap.frontStaticIndex++,e.htmlSwap.frontStaticIndex>=e.frontContent.length&&(e.htmlSwap.frontStaticIndex=0)));if(r){if(!e.htmlSwap.doSwapBack)return;o=this.getBackSwapIndex(e),e.htmlSwap.prevBackIndex=o,a.html(e.backContent[e.htmlSwap.backIndex]),e.htmlSwap.backIndex++,e.htmlSwap.backIndex>=e.backContent.length&&(e.htmlSwap.backIndex=0),i||(e.htmlSwap.backStaticIndex++,e.htmlSwap.backStaticIndex>=e.backContent.length&&(e.htmlSwap.backStaticIndex=0))}else{if(!e.htmlSwap.doSwapFront)return;o=this.getFrontSwapIndex(e),e.htmlSwap.prevFrontIndex=o,"slide"===e.mode?data.startNow?a.html(e.frontContent[o]):t.html(e.frontContent[o]):a.html(e.frontContent[o]),e.htmlSwap.frontIndex++,e.htmlSwap.frontIndex>=e.frontContent.length&&(e.htmlSwap.frontIndex=0),i||(e.htmlSwap.frontStaticIndex++,e.htmlSwap.frontStaticIndex>=e.frontContent.length&&(e.htmlSwap.frontStaticIndex=0))}}}},imageSwap:{data:{preloadImages:!1,imageCssSelector:">img,>a>img",frontImages:[],frontIsRandom:!0,frontIsBackgroundImage:!1,frontIsInGrid:!1,backImages:null,backIsRandom:!0,backIsBackgroundImage:!1,backIsInGrid:!1},initData:function(t,a){var n={backBag:[],backIndex:0,backStaticIndex:0,backStaticRndm:-1,frontBag:[],frontIndex:0,frontStaticIndex:0,frontStaticRndm:-1,prevBackIndex:-1,prevFrontIndex:-1};n.imageCssSelector=t.ignoreDataAttributes?t.imageCssSelector:i.getDataOrDefault(a,"image-css",t.imageCssSelector),n.frontIsRandom=t.ignoreDataAttributes?t.frontIsRandom:i.getDataOrDefault(a,"front-israndom",t.frontIsRandom),n.frontIsInGrid=t.ignoreDataAttributes?t.frontIsInGrid:i.getDataOrDefault(a,"front-isingrid",t.frontIsInGrid),n.frontIsBackgroundImage=t.ignoreDataAttributes?t.frontIsBackgroundImage:i.getDataOrDefault(a,"front-isbg",t.frontIsBackgroundImage),n.backIsRandom=t.ignoreDataAttributes?t.backIsRandom:i.getDataOrDefault(a,"back-israndom",t.backIsRandom),n.backIsInGrid=t.ignoreDataAttributes?t.backIsInGrid:i.getDataOrDefault(a,"back-isingrid",t.backIsInGrid),n.backIsBackgroundImage=t.ignoreDataAttributes?t.backIsBackgroundImage:i.getDataOrDefault(a,"back-isbg",t.backIsBackgroundImage),n.doSwapFront=e.inArray("image",t.swapFront)>-1&&t.frontImages instanceof Array&&t.frontImages.length>0,n.doSwapBack=e.inArray("image",t.swapBack)>-1&&t.backImages instanceof Array&&t.backImages.length>0,t.imgSwap="undefined"!=typeof t.imgSwap?e.extend(n,t.imgSwap):n,t.imgSwap.doSwapFront&&(t.imgSwap.frontBag=this.prepBag(t.imgSwap.frontBag,t.frontImages,t.imgSwap.prevFrontIndex),t.imgSwap.frontStaticRndm=t.imgSwap.frontBag.pop(),t.preloadImages&&e(t.frontImages).metrojs.preloadImages(function(){})),t.imgSwap.doSwapBack&&(t.imgSwap.backBag=this.prepBag(t.imgSwap.backBag,t.backImages,t.imgSwap.prevBackIndex),t.imgSwap.backStaticRndm=t.imgSwap.backBag.pop(),t.preloadImages&&e(t.backImages).metrojs.preloadImages(function(){}))},prepBag:function(e,t,a){var n,i;for(e=[],n=0,i=0;i<t.length;i++)(i!=a||1===t.length)&&(e[n]=i,n++);return o.shuffleArray(e)},getFrontSwapIndex:function(e){var t=0;return e.imgSwap.frontIsRandom?(0===e.imgSwap.frontBag.length&&(e.imgSwap.frontBag=this.prepBag(e.imgSwap.frontBag,e.frontImages,e.imgSwap.prevFrontIndex)),t=e.imgSwap.frontIsInGrid?e.imgSwap.frontStaticRndm:e.imgSwap.frontBag.pop()):t=e.imgSwap.frontIsInGrid?e.imgSwap.frontStaticIndex:e.imgSwap.frontIndex,t},getBackSwapIndex:function(e){var t=0;return e.imgSwap.backIsRandom?(0===e.imgSwap.backBag.length&&(e.imgSwap.backBag=this.prepBag(e.imgSwap.backBag,e.backImages,e.imgSwap.prevBackIndex)),t=e.imgSwap.backIsInGrid?e.imgSwap.backStaticRndm:e.imgSwap.backBag.pop()):t=e.imgSwap.backIsInGrid?e.imgSwap.backStaticIndex:e.imgSwap.backIndex,t},setImageProperties:function(t,a,n){var i={},o={};"undefined"!=typeof a.src&&(n?i.backgroundImage="url('"+a.src+"')":o.src=a.src),"undefined"!=typeof a.alt&&(o.alt=a.alt),"object"==typeof a.css?t.css(e.extend(i,a.css)):t.css(i),"object"==typeof a.attr?t.attr(e.extend(o,a.attr)):t.attr(o)},action:function(e,t,a,n){var i,o,r;if(e.imgSwap.doSwapFront||e.imgSwap.doSwapBack){var s="flip-list"===e.mode,l=0,c=s?e.listData[Math.max(n,0)].isReversed:e.isReversed;if(s&&-1==n)return void(c?e.imgSwap.doSwapBack&&(0===e.imgSwap.backBag.length&&(e.imgSwap.backBag=this.prepBag(e.imgSwap.backBag,e.backImages,e.imgSwap.backStaticRndm)),e.imgSwap.backStaticRndm=e.imgSwap.backBag.pop(),e.imgSwap.backStaticIndex++,e.imgSwap.backStaticIndex>=e.backImages.length&&(e.imgSwap.backStaticIndex=0)):e.imgSwap.doSwapFront&&(0===e.imgSwap.frontBag.length&&(e.imgSwap.frontBag=this.prepBag(e.imgSwap.frontBag,e.frontImages,e.imgSwap.frontStaticRndm)),e.imgSwap.frontStaticRndm=e.imgSwap.frontBag.pop(),e.imgSwap.frontStaticIndex++,e.imgSwap.frontStaticIndex>=e.frontImages.length&&(e.imgSwap.frontStaticIndex=0)));if(c){if(!e.imgSwap.doSwapBack)return;l=this.getBackSwapIndex(e),
e.imgSwap.prevBackIndex=l,i=a,o=i.find(e.imgSwap.imageCssSelector),r="object"==typeof e.backImages[l]?e.backImages[l]:{src:e.backImages[l]},this.setImageProperties(o,r,e.imgSwap.backIsBackgroundImage),e.imgSwap.backIndex++,e.imgSwap.backIndex>=e.backImages.length&&(e.imgSwap.backIndex=0),s||(e.imgSwap.backStaticIndex++,e.imgSwap.backStaticIndex>=e.backImages.length&&(e.imgSwap.backStaticIndex=0))}else{if(!e.imgSwap.doSwapFront)return;l=this.getFrontSwapIndex(e),e.imgSwap.prevFrontIndex=l,i="slide"===e.mode?t:a,o=i.find(e.imgSwap.imageCssSelector),r="object"==typeof e.frontImages[l]?e.frontImages[l]:{src:e.frontImages[l]},this.setImageProperties(o,r,e.imgSwap.frontIsBackgroundImage),e.imgSwap.frontIndex++,e.imgSwap.frontIndex>=e.frontImages.length&&(e.imgSwap.frontIndex=0),s||(e.imgSwap.frontStaticIndex++,e.imgSwap.frontStaticIndex>=e.frontImages.length&&(e.imgSwap.frontStaticIndex=0))}i=null,o=null}}}};e.fn.metrojs.TileTimer=function(e,t,n){var i=this;this.timerId=null,this.interval=e,this.action=t,this.count=0,this.repeatCount="undefined"==typeof n?0:n,this.start=function(t){window.clearTimeout(this.timerId),i.timerId=window.setTimeout(function(){i.action(i.count+1),i.count++,i.count>=a&&(i.count=0),(i.repeatCount>0||-1==i.repeatCount)&&(i.count!=i.repeatCount?i.start(e):i.stop())},t)},this.stop=function(){i.timerId=window.clearTimeout(this.timerId),i.reset()},this.resume=function(){(i.repeatCount>0||-1==i.repeatCount)&&i.count!=i.repeatCount&&i.start(e)},this.pause=function(){i.timerId=window.clearTimeout(this.timerId)},this.reset=function(){i.count=0},this.restart=function(e){i.stop(),i.start(e)}},e.fn.metrojs.theme={loadDefaultTheme:function(e){var t,a,n;"undefined"==typeof e||null==e?e=e.fn.metrojs.theme.defaults:(t=e.fn.metrojs.theme.defaults,e.extend(t,e),e=t),a="undefined"!=typeof window.localStorage,n=function(e){return"undefined"!=typeof window.localStorage[e]&&null!=window.localStorage[e]},!a||n("Metro.JS.AccentColor")&&n("Metro.JS.BaseAccentColor")?a?(e.accentColor=window.localStorage["Metro.JS.AccentColor"],e.baseTheme=window.localStorage["Metro.JS.BaseAccentColor"],e(e.accentCssSelector).addClass(e.accentColor).data("accent",e.accentColor),e(e.baseThemeCssSelector).addClass(e.baseTheme),typeof("function"==e.loaded)&&e.loaded(e.baseTheme,e.accentColor)):(e(e.accentCssSelector).addClass(e.accentColor).data("accent",e.accentColor),e(e.baseThemeCssSelector).addClass(e.baseTheme),typeof("function"==e.loaded)&&e.loaded(e.baseTheme,e.accentColor),"undefined"!=typeof e.preloadAltBaseTheme&&e.preloadAltBaseTheme&&e(["dark"==e.baseTheme?e.metroLightUrl:e.metroDarkUrl]).metrojs.preloadImages(function(){})):(window.localStorage["Metro.JS.AccentColor"]=e.accentColor,window.localStorage["Metro.JS.BaseAccentColor"]=e.baseTheme,e(e.accentCssSelector).addClass(e.accentColor).data("accent",e.accentColor),e(e.baseThemeCssSelector).addClass(e.baseTheme),typeof("function"==e.loaded)&&e.loaded(e.baseTheme,e.accentColor),"undefined"!=typeof e.preloadAltBaseTheme&&e.preloadAltBaseTheme&&e(["dark"==e.baseTheme?e.metroLightUrl:e.metroDarkUrl]).metrojs.preloadImages(function(){}))},applyTheme:function(e,t,a){var n,i,o,r;"undefined"==typeof a||null==a?a=e.fn.metrojs.theme.defaults:(n=e.fn.metrojs.theme.defaults,e.extend(n,a),a=n),"undefined"!=typeof e&&null!=e&&("undefined"!=typeof window.localStorage&&(window.localStorage["Metro.JS.BaseAccentColor"]=e),i=e(a.baseThemeCssSelector),i.length>0&&("dark"==e?i.addClass("dark").removeClass("light"):"light"==e&&i.addClass("light").removeClass("dark"))),"undefined"!=typeof t&&null!=t&&("undefined"!=typeof window.localStorage&&(window.localStorage["Metro.JS.AccentColor"]=t),o=e(a.accentCssSelector),o.length>0&&(r=!1,o.each(function(){var e,a;a(this).addClass(t),e=a(this).data("accent"),e!=t&&(a=a(this).attr("class").replace(e,""),a=a.replace(/(\s)+/," "),a(this).attr("class",a),a(this).data("accent",t),r=!0)}),r&&"function"==typeof a.accentPicked&&a.accentPicked(t)))},appendAccentColors:function(t){var a,n;"undefined"==typeof t||null==t?t=e.fn.metrojs.theme.defaults:(a=e.fn.metrojs.theme.defaults,e.extend(a,t),t=a);var i="",o=t.accentColors,r=t.accentListTemplate;for(n=0;n<o.length;n++)i+=r.replace(/\{0\}/g,o[n]);e(i).appendTo(t.accentListContainer)},appendBaseThemes:function(t){var a,n;"undefined"==typeof t||null==t?t=e.fn.metrojs.theme.defaults:(a=e.fn.metrojs.theme.defaults,e.extend(a,t),t=a);var i="",o=t.baseThemes,r=t.baseThemeListTemplate;for(n=0;n<o.length;n++)i+=r.replace(/\{0\}/g,o[n]);e(i).appendTo(t.baseThemeListContainer)},defaults:{baseThemeCssSelector:"body",accentCssSelector:".tiles",accentColor:"blue",baseTheme:"dark",accentColors:["amber","brown","cobalt","crimson","cyan","magenta","lime","indigo","green","emerald","mauve","olive","orange","pink","red","sienna","steel","teal","violet","yellow"],baseThemes:["light","dark"],accentListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",accentListContainer:".theme-options",baseThemeListTemplate:"<li><a href='javascript:;' title='{0}' class='accent {0}'></a></li>",baseThemeListContainer:".base-theme-options"}},e.fn.applicationBar=function(t){var a,n,i,o="undefined"!=typeof e.fn.metrojs.theme?e.fn.metrojs.theme.defaults:{};e.extend(o,e.fn.applicationBar.defaults,t),"undefined"!=typeof e.fn.metrojs.theme&&(a=e.fn.metrojs.theme,t.shouldApplyTheme&&a.loadDefaultTheme(o),n=o.accentListContainer+" a",e(n).live("click",function(){var e=e(this).attr("class").replace("accent","").replace(" ","");a.applyTheme(null,e,o),"function"==typeof o.accentPicked&&o.accentPicked(e)}),i=o.baseThemeListContainer+" a",e(i).live("click",function(){var e=e(this).attr("class").replace("accent","").replace(" ","");a.applyTheme(e,null,o),"function"==typeof o.themePicked&&o.themePicked(e)})),e(this).each(function(){var e=e(this);navigator.userAgent.match(/(Android|webOS|iPhone|iPod|BlackBerry|PIE|IEMobile)/i)&&(navigator.userAgent.match(/(IEMobile\/1)/i)||navigator.userAgent.match(/(iPhone OS [56789])/i)||e.css({position:"absolute",bottom:"0px"})),e.animateAppBar=function(t){var a=t?o.collapseHeight:o.expandHeight;t?e.removeClass("expanded"):e.hasClass("expanded")||e.addClass("expanded"),e.stop().animate({height:a},{duration:o.duration})},e.find("a.etc").click(function(){e.animateAppBar(e.hasClass("expanded"))}),1==o.bindKeyboard&&e(document.documentElement).keyup(function(t){38==t.keyCode?t.target&&null==t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&(e.hasClass("expanded")||e.animateAppBar(!1)):40==t.keyCode&&t.target&&null==t.target.tagName.match(/INPUT|TEXTAREA|SELECT/i)&&e.hasClass("expanded")&&e.animateAppBar(!0)})})},e.fn.applicationBar.defaults={applyTheme:!0,themePicked:function(){},accentPicked:function(){},loaded:function(){},duration:300,expandHeight:"320px",collapseHeight:"60px",bindKeyboard:!0,metroLightUrl:"images/metroIcons_light.jpg",metroDarkUrl:"images/metroIcons.jpg",preloadAltBaseTheme:!1},e.fn.metrojs.preloadImages=function(e){var t=e(this).toArray(),a=e("<img style='display:none;' />").appendTo("body");e(this).each(function(){a.attr({src:this}).load(function(){for(var a=(e(this).attr("src"),0);a<t.length;a++)t[a]==element&&t.splice(a,1);0==t.length&&e()})}),a.remove()},e.fn.metrojs.MetroModernizr=function(e){function t(){return canTouch="ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0||p(["@media (",s.join("touch-enabled),("),a,")","{#metromodernizr{top:9px;position:absolute}}"].join(""),function(e){return 9===e.offsetTop})}if("undefined"==typeof e&&(e={useHardwareAccel:!0,useModernizr:"undefined"!=typeof window.Modernizr}),this.canTransform=!1,this.canTransition=!1,this.canTransform3d=!1,this.canAnimate=!1,this.canTouch=!1,this.canFlip3d=e.useHardwareAccel,1==e.useHardwareAccel)if(0==e.useModernizr)if("undefined"!=typeof window.MetroModernizr)this.canTransform=window.MetroModernizr.canTransform,this.canTransition=window.MetroModernizr.canTransition,this.canTransform3d=window.MetroModernizr.canTransform3d,this.canAnimate=window.MetroModernizr.canAnimate,this.canTouch=window.MetroModernizr.canTouch;else{window.MetroModernizr={};var a="metromodernizr",n=document.documentElement,i=document.head||document.getElementsByTagName("head")[0],o=document.createElement(a),r=o.style,s=" -webkit- -moz- -o- -ms- ".split(" "),l="Webkit Moz O ms Khtml".split(" "),c=function(e,t){for(var a in e)if(void 0!==r[e[a]]&&(!t||t(e[a],o)))return!0},d=function(e,t){var a=e.charAt(0).toUpperCase()+e.substr(1),n=(e+" "+l.join(a+" ")+a).split(" ");return!!c(n,t)},m=function(){var e=!!c(["perspectiveProperty","WebkitPerspective","MozPerspective","OPerspective","msPerspective"]);return e&&"webkitPerspective"in n.style&&(e=p(["@media (",s.join("transform-3d),("),a,")","{#metromodernizr{left:9px;position:absolute;height:3px;}}"].join(""),function(e){return 3===e.offsetHeight&&9===e.offsetLeft})),e},p=function(e,t){var o,r=document.createElement("style"),s=document.createElement("div");return r.textContent=e,i.appendChild(r),s.id=a,n.appendChild(s),o=t(s),r.parentNode.removeChild(r),s.parentNode.removeChild(s),!!o};this.canTransform=!!c(["transformProperty","WebkitTransform","MozTransform","OTransform","msTransform"]),this.canTransition=d("transitionProperty"),this.canTransform3d=m(),this.canAnimate=d("animationName"),this.canTouch=t(),window.MetroModernizr.canTransform=this.canTransform,window.MetroModernizr.canTransition=this.canTransition,window.MetroModernizr.canTransform3d=this.canTransform3d,window.MetroModernizr.canAnimate=this.canAnimate,window.MetroModernizr.canTouch=this.canTouch,n=null,i=null,o=null,r=null}else this.canTransform=t("html").hasClass("csstransforms"),this.canTransition=t("html").hasClass("csstransitions"),this.canTransform3d=t("html").hasClass("csstransforms3d"),this.canAnimate=t("html").hasClass("cssanimations"),this.canTouch=t("html").hasClass("touch")||"undefined"!=typeof window.navigator.msMaxTouchPoints&&window.navigator.msMaxTouchPoints>0;this.canFlip3d=this.canFlip3d&&this.canAnimate&&this.canTransform&&this.canTransform3d}}(jQuery);

(function(a,b,c){function f(a){var b=document.documentElement.style,c;if(typeof b[a]=="string")return a;a=d(a);for(var f=0,g=e.length;f<g;f++){c=e[f]+a;if(typeof b[c]=="string")return c}}function d(a){return a.charAt(0).toUpperCase()+a.slice(1)}var e="Moz Webkit Khtml O Ms".split(" "),g=f("transform"),h={csstransforms:function(){return!!g},csstransforms3d:function(){var a=!!f("perspective");if(a){var c=" -o- -moz- -ms- -webkit- -khtml- ".split(" "),d="@media ("+c.join("transform-3d),(")+"modernizr)",e=b("<style>"+d+"{#modernizr{height:3px}}"+"</style>").appendTo("head"),g=b('<div id="modernizr" />').appendTo("html");a=g.height()===3,g.remove(),e.remove()}return a},csstransitions:function(){return!!f("transitionProperty")}};if(a.Modernizr)for(var i in h)Modernizr.hasOwnProperty(i)||Modernizr.addTest(i,h[i]);else a.Modernizr=function(){var a={_version:"1.6ish: miniModernizr for Isotope"},c=" ",d,e;for(e in h)d=h[e](),a[e]=d,c+=" "+(d?"":"no-")+e;b("html").addClass(c);return a}();if(Modernizr.csstransforms){var j=Modernizr.csstransforms3d?{translate:function(a){return"translate3d("+a[0]+"px, "+a[1]+"px, 0) "},scale:function(a){return"scale3d("+a+", "+a+", 1) "}}:{translate:function(a){return"translate("+a[0]+"px, "+a[1]+"px) "},scale:function(a){return"scale("+a+") "}},k=function(a,c,d){var e=b.data(a,"isoTransform")||{},f={},h,i={},k;f[c]=d,b.extend(e,f);for(h in e)k=e[h],i[h]=j[h](k);var l=i.translate||"",m=i.scale||"",n=l+m;b.data(a,"isoTransform",e),a.style[g]=n};b.cssNumber.scale=!0,b.cssHooks.scale={set:function(a,b){k(a,"scale",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.scale?d.scale:1}},b.fx.step.scale=function(a){b.cssHooks.scale.set(a.elem,a.now+a.unit)},b.cssNumber.translate=!0,b.cssHooks.translate={set:function(a,b){k(a,"translate",b)},get:function(a,c){var d=b.data(a,"isoTransform");return d&&d.translate?d.translate:[0,0]}}}var l=b.event,m;l.special.smartresize={setup:function(){b(this).bind("resize",l.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",l.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",m&&clearTimeout(m),m=setTimeout(function(){jQuery.event.handle.apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Isotope=function(a,c){this.element=b(c),this._create(a),this._init()};var n=["overflow","position","width","height"];b.Isotope.settings={resizable:!0,layoutMode:"masonry",containerClass:"isotope",itemClass:"isotope-item",hiddenClass:"isotope-hidden",hiddenStyle:Modernizr.csstransforms&&!b.browser.opera?{opacity:0,scale:.001}:{opacity:0},visibleStyle:Modernizr.csstransforms&&!b.browser.opera?{opacity:1,scale:1}:{opacity:1},animationEngine:b.browser.opera?"jquery":"best-available",animationOptions:{queue:!1,duration:800},sortBy:"original-order",sortAscending:!0,resizesContainer:!0,transformsEnabled:!0,itemPositionDataEnabled:!1},b.Isotope.prototype={_create:function(c){this.options=b.extend({},b.Isotope.settings,c),this.styleQueue=[],this.elemCount=0;var d=this.element[0].style;this.originalStyle={};for(var e=0,f=n.length;e<f;e++){var g=n[e];this.originalStyle[g]=d[g]||null}this.element.css({overflow:"hidden",position:"relative"}),this._updateAnimationEngine(),this._updateUsingTransforms();var h={"original-order":function(a,b){return b.elemCount},random:function(){return Math.random()}};this.options.getSortData=b.extend(this.options.getSortData,h),this.reloadItems();var i=b(document.createElement("div")).prependTo(this.element);this.offset=i.position(),i.remove();var j=this;setTimeout(function(){j.element.addClass(j.options.containerClass)},0),this.options.resizable&&b(a).bind("smartresize.isotope",function(){j.resize()})},_getAtoms:function(a){var b=this.options.itemSelector,c=b?a.filter(b).add(a.find(b)):a,d={position:"absolute"};this.usingTransforms&&(d.left=0,d.top=0),c.css(d).addClass(this.options.itemClass),this.updateSortData(c,!0);return c},_init:function(a){this.$filteredAtoms=this._filter(this.$allAtoms),this._sort(),this.reLayout(a)},option:function(a){if(b.isPlainObject(a)){this.options=b.extend(!0,this.options,a);var c;for(var e in a)c="_update"+d(e),this[c]&&this[c]()}},_updateAnimationEngine:function(){var a=this.options.animationEngine.toLowerCase().replace(/[ _\-]/g,"");switch(a){case"css":case"none":this.isUsingJQueryAnimation=!1;break;case"jquery":this.isUsingJQueryAnimation=!0;break;default:this.isUsingJQueryAnimation=!Modernizr.csstransitions}this._updateUsingTransforms()},_updateTransformsEnabled:function(){this._updateUsingTransforms()},_updateUsingTransforms:function(){this.usingTransforms=this.options.transformsEnabled&&Modernizr.csstransforms&&Modernizr.csstransitions&&!this.isUsingJQueryAnimation,this.getPositionStyles=this.usingTransforms?this._translate:this._positionAbs},_filter:function(a){var b=this.options.filter===""?"*":this.options.filter;if(!b)return a;var c=this.options.hiddenClass,d="."+c,e=a.filter(d),f=e;if(b!=="*"){f=e.filter(b);var g=a.not(d).not(b).addClass(c);this.styleQueue.push({$el:g,style:this.options.hiddenStyle})}this.styleQueue.push({$el:f,style:this.options.visibleStyle}),f.removeClass(c);return a.filter(b)},updateSortData:function(a,c){var d=this,e=this.options.getSortData,f,g;a.each(function(){f=b(this),g={};for(var a in e)g[a]=e[a](f,d);b.data(this,"isotope-sort-data",g),c&&d.elemCount++})},_sort:function(){var a=this.options.sortBy,b=this._getSorter,c=this.options.sortAscending?1:-1,d=function(d,e){var f=b(d,a),g=b(e,a);f===g&&a!=="original-order"&&(f=b(d,"original-order"),g=b(e,"original-order"));return(f>g?1:f<g?-1:0)*c};this.$filteredAtoms.sort(d)},_getSorter:function(a,c){return b.data(a,"isotope-sort-data")[c]},_translate:function(a,b){return{translate:[a,b]}},_positionAbs:function(a,b){return{left:a,top:b}},_pushPosition:function(a,b,c){b+=this.offset.left,c+=this.offset.top;var d=this.getPositionStyles(b,c);this.styleQueue.push({$el:a,style:d}),this.options.itemPositionDataEnabled&&a.data("isotope-item-position",{x:b,y:c})},layout:function(a,b){var c=this.options.layoutMode;this["_"+c+"Layout"](a);if(this.options.resizesContainer){var d=this["_"+c+"GetContainerSize"]();this.styleQueue.push({$el:this.element,style:d})}this._processStyleQueue(),b&&b.call(a),this.isLaidOut=!0},_processStyleQueue:function(){var a=this.isLaidOut?this.isUsingJQueryAnimation?"animate":"css":"css",c=this.options.animationOptions,d=this._isInserting&&this.isUsingJQueryAnimation,e;b.each(this.styleQueue,function(b,f){e=d&&f.$el.hasClass("no-transition")?"css":a,f.$el[e](f.style,c)}),this.styleQueue=[]},resize:function(){this["_"+this.options.layoutMode+"ResizeChanged"]()&&this.reLayout()},reLayout:function(a){this["_"+this.options.layoutMode+"Reset"](),this.layout(this.$filteredAtoms,a)},addItems:function(a,b){var c=this._getAtoms(a);this.$allAtoms=this.$allAtoms.add(c),b&&b(c)},insert:function(a,b){this.element.append(a);var c=this;this.addItems(a,function(a){var d=c._filter(a,!0);c._addHideAppended(d),c._sort(),c.reLayout(),c._revealAppended(d,b)})},appended:function(a,b){var c=this;this.addItems(a,function(a){c._addHideAppended(a),c.layout(a),c._revealAppended(a,b)})},_addHideAppended:function(a){this.$filteredAtoms=this.$filteredAtoms.add(a),a.addClass("no-transition"),this._isInserting=!0,this.styleQueue.push({$el:a,style:this.options.hiddenStyle})},_revealAppended:function(a,b){var c=this;setTimeout(function(){a.removeClass("no-transition"),c.styleQueue.push({$el:a,style:c.options.visibleStyle}),c._processStyleQueue(),delete c._isInserting,b&&b(a)},10)},reloadItems:function(){this.$allAtoms=this._getAtoms(this.element.children())},remove:function(a){this.$allAtoms=this.$allAtoms.not(a),this.$filteredAtoms=this.$filteredAtoms.not(a),a.remove()},shuffle:function(){this.updateSortData(this.$allAtoms),this.options.sortBy="random",this._sort(),this.reLayout()},destroy:function(){var c=this.usingTransforms;this.$allAtoms.removeClass(this.options.hiddenClass+" "+this.options.itemClass).each(function(){this.style.position=null,this.style.top=null,this.style.left=null,this.style.opacity=null,c&&(this.style[g]=null)});var d=this.element[0].style;for(var e=0,f=n.length;e<f;e++){var h=n[e];d[h]=this.originalStyle[h]}this.element.unbind(".isotope").removeClass(this.options.containerClass).removeData("isotope"),b(a).unbind(".isotope")},_getSegments:function(a){var b=this.options.layoutMode,c=a?"rowHeight":"columnWidth",e=a?"height":"width",f=a?"rows":"cols",g=this.element[e](),h,i=this.options[b]&&this.options[b][c]||this.$filteredAtoms["outer"+d(e)](!0)||g;h=Math.floor(g/i),h=Math.max(h,1),this[b][f]=h,this[b][c]=i},_checkIfSegmentsChanged:function(a){var b=this.options.layoutMode,c=a?"rows":"cols",d=this[b][c];this._getSegments(a);return this[b][c]!==d},_masonryReset:function(){this.masonry={},this._getSegments();var a=this.masonry.cols;this.masonry.colYs=[];while(a--)this.masonry.colYs.push(0)},_masonryLayout:function(a){var c=this,d=c.masonry;a.each(function(){var a=b(this),e=Math.ceil(a.outerWidth(!0)/d.columnWidth);e=Math.min(e,d.cols);if(e===1)c._masonryPlaceBrick(a,d.colYs);else{var f=d.cols+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.colYs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryPlaceBrick(a,g)}})},_masonryPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=this.masonry.columnWidth*d,h=c;this._pushPosition(a,g,h);var i=c+a.outerHeight(!0),j=this.masonry.cols+1-f;for(e=0;e<j;e++)this.masonry.colYs[d+e]=i},_masonryGetContainerSize:function(){var a=Math.max.apply(Math,this.masonry.colYs);return{height:a}},_masonryResizeChanged:function(){return this._checkIfSegmentsChanged()},_fitRowsReset:function(){this.fitRows={x:0,y:0,height:0}},_fitRowsLayout:function(a){var c=this,d=this.element.width(),e=this.fitRows;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.x!==0&&f+e.x>d&&(e.x=0,e.y=e.height),c._pushPosition(a,e.x,e.y),e.height=Math.max(e.y+g,e.height),e.x+=f})},_fitRowsGetContainerSize:function(){return{height:this.fitRows.height}},_fitRowsResizeChanged:function(){return!0},_cellsByRowReset:function(){this.cellsByRow={index:0},this._getSegments(),this._getSegments(!0)},_cellsByRowLayout:function(a){var c=this,d=this.cellsByRow;a.each(function(){var a=b(this),e=d.index%d.cols,f=~~(d.index/d.cols),g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByRowGetContainerSize:function(){return{height:Math.ceil(this.$filteredAtoms.length/this.cellsByRow.cols)*this.cellsByRow.rowHeight+this.offset.top}},_cellsByRowResizeChanged:function(){return this._checkIfSegmentsChanged()},_straightDownReset:function(){this.straightDown={y:0}},_straightDownLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,0,c.straightDown.y),c.straightDown.y+=d.outerHeight(!0)})},_straightDownGetContainerSize:function(){return{height:this.straightDown.y}},_straightDownResizeChanged:function(){return!0},_masonryHorizontalReset:function(){this.masonryHorizontal={},this._getSegments(!0);var a=this.masonryHorizontal.rows;this.masonryHorizontal.rowXs=[];while(a--)this.masonryHorizontal.rowXs.push(0)},_masonryHorizontalLayout:function(a){var c=this,d=c.masonryHorizontal;a.each(function(){var a=b(this),e=Math.ceil(a.outerHeight(!0)/d.rowHeight);e=Math.min(e,d.rows);if(e===1)c._masonryHorizontalPlaceBrick(a,d.rowXs);else{var f=d.rows+1-e,g=[],h,i;for(i=0;i<f;i++)h=d.rowXs.slice(i,i+e),g[i]=Math.max.apply(Math,h);c._masonryHorizontalPlaceBrick(a,g)}})},_masonryHorizontalPlaceBrick:function(a,b){var c=Math.min.apply(Math,b),d=0;for(var e=0,f=b.length;e<f;e++)if(b[e]===c){d=e;break}var g=c,h=this.masonryHorizontal.rowHeight*d;this._pushPosition(a,g,h);var i=c+a.outerWidth(!0),j=this.masonryHorizontal.rows+1-f;for(e=0;e<j;e++)this.masonryHorizontal.rowXs[d+e]=i},_masonryHorizontalGetContainerSize:function(){var a=Math.max.apply(Math,this.masonryHorizontal.rowXs);return{width:a}},_masonryHorizontalResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_fitColumnsReset:function(){this.fitColumns={x:0,y:0,width:0}},_fitColumnsLayout:function(a){var c=this,d=this.element.height(),e=this.fitColumns;a.each(function(){var a=b(this),f=a.outerWidth(!0),g=a.outerHeight(!0);e.y!==0&&g+e.y>d&&(e.x=e.width,e.y=0),c._pushPosition(a,e.x,e.y),e.width=Math.max(e.x+f,e.width),e.y+=g})},_fitColumnsGetContainerSize:function(){return{width:this.fitColumns.width}},_fitColumnsResizeChanged:function(){return!0},_cellsByColumnReset:function(){this.cellsByColumn={index:0},this._getSegments(),this._getSegments(!0)},_cellsByColumnLayout:function(a){var c=this,d=this.cellsByColumn;a.each(function(){var a=b(this),e=~~(d.index/d.rows),f=d.index%d.rows,g=(e+.5)*d.columnWidth-a.outerWidth(!0)/2,h=(f+.5)*d.rowHeight-a.outerHeight(!0)/2;c._pushPosition(a,g,h),d.index++})},_cellsByColumnGetContainerSize:function(){return{width:Math.ceil(this.$filteredAtoms.length/this.cellsByColumn.rows)*this.cellsByColumn.columnWidth}},_cellsByColumnResizeChanged:function(){return this._checkIfSegmentsChanged(!0)},_straightAcrossReset:function(){this.straightAcross={x:0}},_straightAcrossLayout:function(a){var c=this;a.each(function(a){var d=b(this);c._pushPosition(d,c.straightAcross.x,0),c.straightAcross.x+=d.outerWidth(!0)})},_straightAcrossGetContainerSize:function(){return{width:this.straightAcross.x}},_straightAcrossResizeChanged:function(){return!0}},b.fn.imagesLoaded=function(a){var b=this.find("img"),c=[],d=this,e=b.length;if(!b.length){a.call(this);return this}b.one("load error",function(){--e===0&&(e=b.length,b.one("load error",function(){--e===0&&a.call(d)}).each(function(){this.src=c.shift()}))}).each(function(){c.push(this.src),this.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw=="});return this};var o=function(a){this.console&&console.error(a)};b.fn.isotope=function(a){if(typeof a=="string"){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=b.data(this,"isotope");if(!d)o("cannot call methods on isotope prior to initialization; attempted to call method '"+a+"'");else{if(!b.isFunction(d[a])||a.charAt(0)==="_"){o("no such method '"+a+"' for isotope instance");return}d[a].apply(d,c)}})}else this.each(function(){var c=b.data(this,"isotope");c?(c.option(a),c._init()):b.data(this,"isotope",new b.Isotope(a,this))});return this}})(window,jQuery);
// Creat Ticker
function createTicker(){var b=jQuery(".breaking-news ul").children();tickerItems=new Array();b.each(function(a){tickerItems.push(jQuery(this).html())});i=0;rotateTicker()}function rotateTicker(){if(i==tickerItems.length){i=0}tickerText=tickerItems[i];c=0;typetext();setTimeout("rotateTicker()",5000);i++}var isInTag=false;function typetext(){var b=tickerText.substr(c,1);if(b=="<"){isInTag=true}if(b==">"){isInTag=false}jQuery(".breaking-news ul").html(tickerText.substr(0,c++));if(c<tickerText.length+1){if(isInTag){typetext()}else{setTimeout("typetext()",28)}}else{c=1;tickerText=""}}
// Active
function actinave(e){var h=window.location.href;e("#navi a").each(function(){if(this.href===h){var a=e(this).parents("li").children("a").addClass("current")}});e("#navi ul").removeClass("hidden");e("#navi li").hoverTimeout(100,function(){e(this).parent("ul").css("overflow","visible");e(this).children("ul").filter(":not(:animated)").slideDown()},500,function(){e(this).parent("ul").css("overflow","visible");e(this).children("ul").slideUp(800,"easeInExpo")});e("#mobilenav").click(function(){e("#navi").slideToggle();e(this).toggleClass("active");return false});e("#top_mobilenav").click(function(){e("#PageList1 ul").slideToggle();e(this).toggleClass("active");return false});function f(){if(e(window).width()>767){e("#navi").css("display","block").removeClass("suball")}else{if(e(window).width()<=767&&e("#mobilenav").attr("class")==="active"){e("#navi").css("display","block").addClass("suball")}else{if(e(window).width()<=767&&e("#mobilenav").attr("class")!=="active"){e("#navi").css("display","none").addClass("suball")}}}}function g(){if(e(window).width()>767){e("#PageList1 ul").css("display","block")}else{if(e(window).width()<=767&&e("#top_mobilenav").attr("class")==="active"){e("#PageList1 ul").css("display","block")}else{if(e(window).width()<=767&&e("#top_mobilenav").attr("class")!=="active"){e("#PageList1 ul").css("display","none")}}}}f();g();e(window).resize(f);e(window).resize(g)}function seach(a){(function(e){var l={blogURL:"",srcBlank:"",findText:"Search results for keyword",NotfindText:"No result!",Showthumb:true,LoadingText:"Searching...",scrthumbSize:50,summaryLength:100};l=e.extend({},l,a);var b=e("#ajax-search-form"),f=b.find(":text");b.append('<div id="search-result"></div>');var d=e("#search-result");b.on("submit",function(){var g=f.val();d.show().html('<div class="load">'+l.LoadingText+"</div>");e.get((l.blogURL===""?window.location.protocol+"//"+window.location.host:l.blogURL)+"/feeds/posts/summary?alt=json-in-script&q="+g+"&max-results=9999",function(z){var q=z.feed.entry,o,n,h,p,k="";if(q!==undefined){k="<h4>"+l.findText+" &quot;"+g+"&quot;</h4>";k+='<a class="close" href="/">&times;</a><ol>';for(var m=0;m<q.length;m++){var A=new RegExp(g,"ig"),h=q[m].title.$t.replace(A,"<mark>"+g+"</mark>");for(var y=0;y<q[m].link.length;y++){if(q[m].link[y].rel=="alternate"){p=q[m].link[y].href}}if(l.summaryLength>0){if("content"in q[m]){o=q[m].content.$t}else{if("summary"in q[m]){o=q[m].summary.$t}else{o=""}}o=o.replace(/<\S[^>]*>/g,"");if(o.length>l.summaryLength){o=o.substring(0,l.summaryLength)+"..."}o=o.replace(A,"<mark>"+g+"</mark>")}if(l.Showthumb===true){if("media$thumbnail"in q[m]){n=q[m].media$thumbnail.url.replace(/\/s[0-9]+\-c/g,"/s"+l.scrthumbSize+"-c")}else{n=l.srcBlank}}k+='<li><a href="'+p+'" >'+(l.Showthumb===true?'<img width="'+l.scrthumbSize+'" height="'+l.scrthumbSize+'" src="'+n+'"/>':"")+"<strong>"+h+"</strong></a>"+(l.summaryLength>0?"<p>"+o+"</p>":"")+"</li>"}k+="</ol>";d.html(k)}else{d.html('<a class="close" href="/">&times;</a><strong>'+l.NotfindText+"</strong>")}},"jsonp");return false});b.on("click",".close",function(){d.fadeOut();return false})})(jQuery)}

// Recent Post
function showrecentposts(A){var w; j=(showRandomImg)?Math.floor((imgr.length+1)*Math.random()):0;img=new Array();for(var o=0;o<A.feed.entry.length;o++){var x=A.feed.entry[o];if(x==undefined)
return;var g=x.title.$t;var r=x.author[0].name.$t;var f;var p;if(o==A.feed.entry.length){break}
for(var l=0;l<x.link.length;l++){if(x.link[l].rel=="alternate"){p=x.link[l].href;break}}
for(var l=0;l<x.link.length;l++){if(x.link[l].rel=="replies"&&x.link[l].type=="text/html"){f=x.link[l].title.split(" ")[0];break}}
if("content"in x){var t=x.content.$t}else{if("summary"in x){var t=x.summary.$t}else{var t=""}}
postdate=x.published.$t;if(j>imgr.length-1){j=0}
img[o]=imgr[j];s=t;a=s.indexOf("<img");b=s.indexOf('src="',a);c=s.indexOf('"',b+5);d=s.substr(b+5,c-b-5);if((a!=-1)&&(b!=-1)&&(c!=-1)&&(d!="")){img[o]=d}
var q=[1,2,3,4,5,6,7,8,9,10,11,12];var z=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var v=postdate.split("-")[2].substring(0,2);var h=postdate.split("-")[1];var u=postdate.split("-")[0];for(var e=0;e<q.length;e++){if(parseInt(h)==q[e]){h=z[e];break}}
var n=v+" "+h+" "+u;w+='<div class="cat-dark-top"><div><span class="cat-dark-text"><span class="cat-dark-byline">'+n+'</span><h3><a href="'+p+'">'+g+'</a></h3><p>'+removeHtmlTag(t,summaryPosti)+'...</p></span></div></div><div><div><img src="'+img[o]+'" width="280" height="auto" class=""/></div></div>';j++}
return w;}

// Recent Comment
function recentComments(k){if(k.feed.entry==null||k.feed.entry==false||k.feed.entry==undefined)
return;var w;for(var q=0;q<4;q++){var o=k.feed.entry[q];var u;if(q==k.feed.entry.length){break}
for(var s=0;s<o.link.length;s++){if(o.link[s].rel=="alternate"){u=o.link[s].href;break}}
u=u.replace("#","#comment-");var i=u.split("#");i=i[0];var r=i.split("/");r=r[5];r=r.split(".html");r=r[0];var v=r.replace(/-/g," ");v=v.link(i);if("content"in o){var p=o.content.$t}else{if("summary"in o){var p=o.summary.$t}else{var p=""}}
var n=/<\S[^>]*>>/g;p=p.replace(n,"");if(q==0){w+='<li style="clear:both">';}else{w+='<li style="clear:both">';}
w+='<div style="display:inline;float:left;margin-right:10px;"><img class="align-left" width="35" height="35" src="'+o.author[0].gd$image.src+'"/></div><div style="margin-left:50px;">'+o.author[0].name.$t+" :<br/>  ";if(p.length<70){w+='<a href="'+u+'">'+p+'</a>';}else{p=p.substring(0,70);var t=p.lastIndexOf(" ");p=p.substring(0,t);w+='<a href="'+u+'">'+p+'... </a>';}}
w+='</div></li>';return w;}

// Count Number post
function sumposts(json) { 
	return json.feed.openSearch$totalResults.$t; 
}
// Count Number comment
function numcomments(json) { 
 return json.feed.openSearch$totalResults.$t;
}
// Remove Html Tag
function removeHtmlTag(strx,chop){
	var s = strx.split("<");
	for(var i=0;i<s.length;i++){
		if(s[i].indexOf(">")!=-1){
			s[i] = s[i].substring(s[i].indexOf(">")+1,s[i].length);
		}
	}
	s =  s.join("");
	s = s.substring(0,chop-1);
	return s;
}
// Show Clock
function showclock(){
    var digital = new Date();
    var hours=digital.getHours();
    var minutes=digital.getMinutes();
    var seconds=digital.getSeconds();
    var dn='AM';
    if (hours>12) {
    dn='PM';
    hours=hours-12;
    }
    if (hours==0) hours=12;
    if (minutes<=9) minutes='0'+minutes;
    if (seconds<=9) seconds='0'+seconds;

    miReloj='<b><span style="color:#fff;font-size:50px;">'
    + hours + '</span> : <span style="color:#fff;font-size:50px;">'
    + minutes + '</span> : <span style="color:#fff;font-size:50px;">'
    + seconds + '</span></b><span style="color:#fff;font-size:25px;margin-left:5px;">'
    + dn + '</span>';
    document.getElementById('livetime').innerHTML=miReloj;
    //
    setTimeout('showclock()',1000);
}
// Transfer mobile
function a(){var b=window.location.href,c=b.split("?");switch(c.length){case 1:return b+"?m=1";case 2:return 0<=c[1].search("(^|&)m=")?null:b+"&m=1";default:return null}}var d=navigator.userAgent;if(-1!=d.indexOf("Mobile")&&-1!=d.indexOf("WebKit")&&-1==d.indexOf("iPad")||-1!=d.indexOf("Opera Mini")||-1!=d.indexOf("IEMobile")){var e=a();e&&window.location.replace(e)};
// Get thumbnail
function byThumb(e,b){var c=document.getElementById(e),d=c.getElementsByTagName("img");for(var a=0;a<d.length;a++){d[a].src=d[a].src.replace(/\/s72\-c/,"/w"+b);d[a].width=b}}
// Tiles
function isotope(){var a=jQuery(".blog-posts");a.isotope({itemSelector:".item-list",resizable:true,masonry:{columnWidth:a.width()/3}})};
// Loadmore
(function(e){var h="https://lh3.googleusercontent.com/-FiCzyOK4Mew/T4aAj2uVJKI/AAAAAAAAPaY/x23tjGIH7ls/s32/ajax-loader.gif";var i="";var b=null;var a="div.blog-posts";var d=false;var g=e(window);var k=e(document);var f=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi;function c(m){e.getScript("http://"+m+".disqus.com/blogger_index.js")}function j(){if(d){return}d=true;if(!i){b.hide();return}b.find("a").hide();b.find("img").show();e.get(i,"alt=html").done(function(o){var m=e("<div></div>").append(o.replace(f,""));var n=m.find("a.blog-pager-older-link");if(n){i=n.attr("href")}else{i="";b.hide()}var p=m.find(a).children(".date-outer");e(a).append(p);byThumb("Blog1",0);if(window._gaq){window._gaq.push(["_trackPageview",i])}if(window.gapi&&window.gapi.plusone&&window.gapi.plusone.go){window.gapi.plusone.go()}if(window.disqus_shortname){c(window.disqus_shortname)}if(window.FB&&window.FB.XFBML&&window.FB.XFBML.parse){window.FB.XFBML.parse()}e(a).isotope("insert",p);setTimeout(function(){e(a).isotope("insert",p)},1000);b.find("img").hide();b.find("a").show();d=false})}function l(){if(_WidgetManager._GetAllData().blog.pageType=="item"){return}i=e("a.blog-pager-older-link").attr("href");if(!i){return}var n=e('<a class="loadpost" href="javascript:;">Load more </a>');n.click(j);var m=e('<img class="imgload" src="'+h+'" style="display: none;">');b=e('<div style="text-align: center; font-size: 140%;margin-top:40px;margin-bottom:40px;"></div>');b.append(n);b.append(m);b.insertBefore(e("#blog-pager"));e("#blog-pager").hide()}e(document).ready(l)})(jQuery);

// Scroll to top
(function($){var newerLink=$('a.blog-pager-newer-link1');var olderLink=$('a.blog-pager-older-link1');$.get(newerLink.attr('href'),function(data){newerLink.html('<h6>Next</h6><h5>'+$(data).find('h1.post-title').text()+'</h5>');},"html");$.get(olderLink.attr('href'),function(data2){olderLink.html('<h6>Previous</h6><h5>'+$(data2).find('h1.post-title').text()+'</h5>');},"html");$(document).ready(function(){var offset=220;var duration=500;jQuery(window).scroll(function(){if(jQuery(this).scrollTop()>offset){jQuery('.back-to-top').fadeIn(duration);}else{jQuery('.back-to-top').fadeOut(duration);}});jQuery('.back-to-top').click(function(event){event.preventDefault();jQuery('html, body').animate({scrollTop:0},duration);return false;});});})(jQuery);
// Menu
(function(window){'use strict';function classReg(className){return new RegExp("(^|\\s+)"+className+"(\\s+|$)")}var hasClass,addClass,removeClass;if('classList'in document.documentElement){hasClass=function(elem,c){return elem.classList.contains(c)};addClass=function(elem,c){elem.classList.add(c)};removeClass=function(elem,c){elem.classList.remove(c)}}else{hasClass=function(elem,c){return classReg(c).test(elem.className)};addClass=function(elem,c){if(!hasClass(elem,c)){elem.className=elem.className+' '+c}};removeClass=function(elem,c){elem.className=elem.className.replace(classReg(c),' ')}}function toggleClass(elem,c){var fn=hasClass(elem,c)?removeClass:addClass;fn(elem,c)}var classie={hasClass:hasClass,addClass:addClass,removeClass:removeClass,toggleClass:toggleClass,has:hasClass,add:addClass,remove:removeClass,toggle:toggleClass};if(typeof define==='function'&&define.amd){define(classie)}else{window.classie=classie}})(window);(function(){function mobilecheck(){var check=false;(function(a){if(/(android|ipad|playbook|silk|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4)))check=true})(navigator.userAgent||navigator.vendor||window.opera);return check}function init(){var menu=document.getElementById('bt-menu'),trigger=menu.querySelector('a.bt-menu-trigger'),triggerPlay=document.querySelector('a.bt-menu-trigger-out'),eventtype=mobilecheck()?'touchstart':'click',resetMenu=function(){classie.remove(menu,'bt-menu-open');classie.add(menu,'bt-menu-close')},closeClickFn=function(ev){resetMenu();overlay.removeEventListener(eventtype,closeClickFn)};var overlay=document.createElement('div');overlay.className='bt-overlay';menu.appendChild(overlay);trigger.addEventListener(eventtype,function(ev){ev.stopPropagation();ev.preventDefault();if(classie.has(menu,'bt-menu-open')){resetMenu()}else{classie.remove(menu,'bt-menu-close');classie.add(menu,'bt-menu-open');overlay.addEventListener(eventtype,closeClickFn)}});if(triggerPlay){triggerPlay.addEventListener(eventtype,function(ev){ev.stopPropagation();ev.preventDefault();classie.remove(menu,'bt-menu-close');classie.add(menu,'bt-menu-open');overlay.addEventListener(eventtype,closeClickFn)})}}init()})();

